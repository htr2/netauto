<!DOCTYPE html>
<html dir="ltr" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><title>Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf</title><link rel="stylesheet" type="text/css" href="gview_data/rsAC2dHMLvjtH34ElFH79TSHdUOGhfSu8EoQ.css"></head><body class="ndfHFb-c4YZDc-qbOKL-OEVmcd"><script src="gview_data/cbgapi.loaded_0" nonce="OGF0bOpyMbyL2EvvH+wm5rcKumw" async="" aria-hidden="true"></script><script type="text/javascript" charset="UTF-8" src="gview_data/mmain" nonce="OGF0bOpyMbyL2EvvH+wm5rcKumw" aria-hidden="true"></script><script type="text/javascript" src="gview_data/client.js" nonce="OGF0bOpyMbyL2EvvH+wm5rcKumw" aria-hidden="true" gapi_processed="true"></script><script type="text/javascript" nonce="OGF0bOpyMbyL2EvvH+wm5rcKumw" aria-hidden="true">_init([["0",null,null,null,1,2,null,null,null,null,0,[1]
,0,null,null,"https://drive.google.com",null,null,null,null,null,1,null,null,null,null,null,null,null,null,null,1,[["core-361-RC2","prod"]
,12,1,1]
,null,null,null,null,[null,null,null,null,"https://accounts.google.com/ServiceLogin?passive\u003d1209600\u0026continue\u003dhttps://docs.google.com/gview?embedded%3Dtrue%26url%3Dhttps://cumulusnetworks.com/documents/124/Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf\u0026hl\u003den\u0026followup\u003dhttps://docs.google.com/gview?embedded%3Dtrue%26url%3Dhttps://cumulusnetworks.com/documents/124/Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf",null,null,null,0]
,null,null,null,null,null,null,null,null,null,null,1,1,null,null,null,0,null,null,null,null,null,null,null,null,null,1]
,[null,"Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf","/viewerng/thumb?ds\u003dAON1mFwKDl9NbmSX5oxOyA-n-pRPD5W4GwIItBmmYRMAEAtIbCVpotOvDcp88_KkqCTxhIta_7P_uYsbYAQ7Xl_df14VSun3897WInQpynDDzdbxydyqM7b15lWqIXdyoG1krzaGhVZLQndn9DgLTBU5AuTZqeejjP0NJbSGDvRCi9VdZrjKIcFiiPm-WF7j56h8y022wU_abG7-6LUjlOHkSw-kSCbjyMPs6pAPcIs9wGrSP_ekbNuS4GGUjc5yhJdjjF1n64zcZmSqElR6Epl_szTUENla15TFscXCcLyl3zI81vCqjzAzC8eVaqQdv7yRUCIizXwR5pE2cRgobtRzhauQc7xTXQ%3D%3D\u0026ck\u003dlantern\u0026authuser\u0026w\u003d800\u0026p\u003dproj",null,null,null,null,null,null,"/viewerng/upload?ds\u003dAON1mFzrTMvjr3W15kkNwjy0bUmBrh6qIi7CdI5CNUOwHtBNBWiAgZLVCPsZVzUWctOsccpLFWPG7esF_ZqsjIS_IPoA22GOy0pt-PrtNaGGbDqCaQE9SiTOiUWCIxdzd3hdtUZXONKigjmJd-IMyKTLIJfvEOcPBFMEiqfdCjYDktP5fMsOlXysCMCsVSb1EeuNNdsw7p0p6M_TDu523pO8rp7_ZPHuu-AWCIRRFP-HSNKBtiSrMpKxHLiQFYyYbJ6u7Grxe6sxUrsPBWzQShWG_w-6-YX2zXxH-W8vR8f32q7hkVc9tyIoQ9BlBu3VUwefg9W23eUCxZwnfD5wflDDLwo5qXIaTw%3D%3D\u0026ck\u003dlantern\u0026authuser\u0026p\u003dproj",null,"application/pdf",null,null,1,null,"/viewerng/viewer?url\u003dhttps://cumulusnetworks.com/documents/124/Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf",null,"https://cumulusnetworks.com/documents/124/Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf",null,null,0,null,null,null,null,null,"/viewerng/standalone/refresh?embedded\u003dtrue\u0026url\u003dhttps://cumulusnetworks.com/documents/124/Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf",[null,null,"meta?id\u003dACFrOgBByxu_7jE-tEeYb0Ac9zI4JqPCyU1SV79MkHGTu_AMjuzYYGacXwXqeVqqQUi_gkADL8lQwILstDIjZumrMkK2oGZ7ptz1pO3-1SQspUnYXuG1HyOfCQbWJUK45EHnwXKH2oZ4LpMtWdZI","img?id\u003dACFrOgBByxu_7jE-tEeYb0Ac9zI4JqPCyU1SV79MkHGTu_AMjuzYYGacXwXqeVqqQUi_gkADL8lQwILstDIjZumrMkK2oGZ7ptz1pO3-1SQspUnYXuG1HyOfCQbWJUK45EHnwXKH2oZ4LpMtWdZI","press?id\u003dACFrOgBByxu_7jE-tEeYb0Ac9zI4JqPCyU1SV79MkHGTu_AMjuzYYGacXwXqeVqqQUi_gkADL8lQwILstDIjZumrMkK2oGZ7ptz1pO3-1SQspUnYXuG1HyOfCQbWJUK45EHnwXKH2oZ4LpMtWdZI","status?id\u003dACFrOgBByxu_7jE-tEeYb0Ac9zI4JqPCyU1SV79MkHGTu_AMjuzYYGacXwXqeVqqQUi_gkADL8lQwILstDIjZumrMkK2oGZ7ptz1pO3-1SQspUnYXuG1HyOfCQbWJUK45EHnwXKH2oZ4LpMtWdZI","https://doc-0c-bk-apps-viewer.googleusercontent.com/viewer/secure/pdf/3nb9bdfcv3e2h2k1cmql0ee9cvc5lole/qr2e1ce17tkj9p05rk9tp91gsnk0qjnt/1539973500000/lantern/*/ACFrOgBByxu_7jE-tEeYb0Ac9zI4JqPCyU1SV79MkHGTu_AMjuzYYGacXwXqeVqqQUi_gkADL8lQwILstDIjZumrMkK2oGZ7ptz1pO3-1SQspUnYXuG1HyOfCQbWJUK45EHnwXKH2oZ4LpMtWdZI",null,"presspage?id\u003dACFrOgBByxu_7jE-tEeYb0Ac9zI4JqPCyU1SV79MkHGTu_AMjuzYYGacXwXqeVqqQUi_gkADL8lQwILstDIjZumrMkK2oGZ7ptz1pO3-1SQspUnYXuG1HyOfCQbWJUK45EHnwXKH2oZ4LpMtWdZI"]
,null,null,null,"pdf"]
,"","",2]
);</script><div class="ndfHFb-c4YZDc ndfHFb-c4YZDc-AHmuwe-Hr88gd-OWB6Me ndfHFb-c4YZDc-vyDMJf-aZ2wEe ndfHFb-c4YZDc-i5oIFb ndfHFb-c4YZDc-e1YmVc ndfHFb-c4YZDc-TSZdd" aria-label="Showing viewer." tabindex="0"><div class="ndfHFb-c4YZDc-bnBfGc ndfHFb-c4YZDc-zTETae" tabindex="0" aria-label="Displaying Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf."></div><div class="ndfHFb-c4YZDc-K9a4Re" style="bottom: 0px;"><div class="ndfHFb-c4YZDc-E7ORLb-LgbsSe ndfHFb-c4YZDc-LgbsSe-OWB6Me ndfHFb-c4YZDc-LgbsSe" role="button" style="-moz-user-select: none; left: 17px; opacity: 1;" aria-disabled="true" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="r,c" data-tooltip-offset="-6"><div class="ndfHFb-c4YZDc-DH6Rkf-AHe6Kc"><div class="ndfHFb-c4YZDc-Bz112c ndfHFb-c4YZDc-DH6Rkf-Bz112c"></div></div></div><div class="ndfHFb-c4YZDc-tJiF1e-LgbsSe ndfHFb-c4YZDc-LgbsSe-OWB6Me ndfHFb-c4YZDc-LgbsSe" role="button" style="-moz-user-select: none; right: 17px; opacity: 1;" aria-disabled="true" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="l,c" data-tooltip-offset="-6"><div class="ndfHFb-c4YZDc-DH6Rkf-AHe6Kc"><div class="ndfHFb-c4YZDc-Bz112c ndfHFb-c4YZDc-DH6Rkf-Bz112c"></div></div></div><div class="ndfHFb-c4YZDc-q77wGc" style="opacity: 1;"><div class="ndfHFb-c4YZDc-DARUcf-NnAfwf-i5oIFb" style="" aria-label="Page 24 of 63"><div class="ndfHFb-c4YZDc-DARUcf-NnAfwf-tJHJj">Page</div><div class="ndfHFb-c4YZDc-DARUcf-NnAfwf-cQYSPc">24</div><span class="ndfHFb-c4YZDc-DARUcf-NnAfwf-hgDUwe">/</span><div class="ndfHFb-c4YZDc-DARUcf-NnAfwf-j4LONd">63</div></div><div class="ndfHFb-c4YZDc-nJjxad-nK2kYb-i5oIFb" style=""><div class="ndfHFb-c4YZDc-to915-LgbsSe ndfHFb-c4YZDc-nJjxad-m9bMae-LgbsSe VIpgJd-TzA9Ye-eEGnhe ndfHFb-c4YZDc-LgbsSe ndfHFb-c4YZDc-LgbsSe-OWB6Me" role="button" style="-moz-user-select: none;" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="b,c" data-tooltip-offset="-6" aria-label="Zoom out" data-tooltip="Zoom out" aria-disabled="true"><div class="ndfHFb-c4YZDc-Bz112c"></div></div><div class="ndfHFb-c4YZDc-LgbsSe ndfHFb-c4YZDc-to915-LgbsSe ndfHFb-c4YZDc-nJjxad-hj4D6d-LgbsSe VIpgJd-TzA9Ye-eEGnhe" role="button" style="-moz-user-select: none;" tabindex="0" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="b,c" data-tooltip-offset="-6" aria-label="Fit to width" data-tooltip="Fit to width"><div class="ndfHFb-c4YZDc-Bz112c"></div></div><div class="ndfHFb-c4YZDc-LgbsSe ndfHFb-c4YZDc-to915-LgbsSe ndfHFb-c4YZDc-nJjxad-bEDTcc-LgbsSe VIpgJd-TzA9Ye-eEGnhe" role="button" style="-moz-user-select: none;" tabindex="0" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="b,c" data-tooltip-offset="-6" aria-label="Zoom in" data-tooltip="Zoom in"><div class="ndfHFb-c4YZDc-Bz112c"></div></div></div><div class="ndfHFb-c4YZDc-LzGo7c" style="display: none;"></div></div><div class="ndfHFb-c4YZDc-K9a4Re-nKQ6qf ndfHFb-c4YZDc-TvD9Pc-qnnXGd" role="main" style=""><div class="ndfHFb-c4YZDc-EglORb-ge6pde ndfHFb-c4YZDc-K9a4Re-ge6pde-Ne3sFf" role="status" tabindex="-1" aria-label="Loading" style="display: none;"><div class="ndfHFb-c4YZDc-EglORb-ge6pde-RJLb9c ndfHFb-c4YZDc-AHmuwe-wcotoc-zTETae"><div class="ndfHFb-aZ2wEe"><div class="ndfHFb-vyDMJf-aZ2wEe auswjd"><div class="aZ2wEe-pbTTYe aZ2wEe-v3pZbf"><div class="aZ2wEe-LkdAo-e9ayKc aZ2wEe-LK5yu"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div><div class="aZ2wEe-pehrl-TpMipd"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div><div class="aZ2wEe-LkdAo-e9ayKc aZ2wEe-qwU8Me"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div></div><div class="aZ2wEe-pbTTYe aZ2wEe-oq6NAc"><div class="aZ2wEe-LkdAo-e9ayKc aZ2wEe-LK5yu"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div><div class="aZ2wEe-pehrl-TpMipd"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div><div class="aZ2wEe-LkdAo-e9ayKc aZ2wEe-qwU8Me"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div></div><div class="aZ2wEe-pbTTYe aZ2wEe-gS7Ybc"><div class="aZ2wEe-LkdAo-e9ayKc aZ2wEe-LK5yu"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div><div class="aZ2wEe-pehrl-TpMipd"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div><div class="aZ2wEe-LkdAo-e9ayKc aZ2wEe-qwU8Me"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div></div><div class="aZ2wEe-pbTTYe aZ2wEe-nllRtd"><div class="aZ2wEe-LkdAo-e9ayKc aZ2wEe-LK5yu"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div><div class="aZ2wEe-pehrl-TpMipd"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div><div class="aZ2wEe-LkdAo-e9ayKc aZ2wEe-qwU8Me"><div class="aZ2wEe-LkdAo aZ2wEe-hj4D6d"></div></div></div></div></div></div><span class="ndfHFb-c4YZDc-EglORb-ge6pde-fmcmS ndfHFb-c4YZDc-AHmuwe-wcotoc-zTETae" aria-hidden="true">Loading…</span></div><div class="ndfHFb-c4YZDc-cYSp0e ndfHFb-c4YZDc-oKVyEf " style=""><textarea class="ndfHFb-c4YZDc-cYSp0e-B7I4Od" aria-hidden="true" tabindex="-1"></textarea><div class="ndfHFb-c4YZDc-cYSp0e-s2gQvd ndfHFb-c4YZDc-s2gQvd" tabindex="-1" style="margin-left: 17px;"><div class="ndfHFb-c4YZDc-cYSp0e-Oz6c3e ndfHFb-c4YZDc-cYSp0e-DARUcf-gSKZZ ndfHFb-c4YZDc-neVct-RCfa3e" role="document" tabindex="0" style="margin-top: 17px; margin-bottom: 17px; width: 800px; left: 532.5px;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 1 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.9281%; top: 64.1414%; width: 59.6405%; height: 4.0404%;">Data Center Layer 2 High Availability
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 69.4444%; width: 39.0523%; height: 4.0404%;">Validated Design Guide
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.7647%; top: 74.8737%; width: 70.7516%; height: 2.52525%;">Deploying a Data Center to Support Layer 2 Services with Network Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.7647%; top: 77.399%; width: 23.5294%; height: 2.65152%;">Running Cumulus® Linux®
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 34.8039%; top: 77.7778%; width: 0.980392%; height: 1.89394%;">
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/f84e459f-23d6-483d-864a-1c9f186ea5d6" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 1 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 2 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 1.14379%; height: 1.13636%;">2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.7647%; top: 8.33333%; width: 16.0131%; height: 3.53535%;">Contents
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 16.2879%; width: 76.7974%; height: 1.51515%;">Contents
 
...........................................................................................................................................................................................
 2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 18.4343%; width: 76.7974%; height: 1.76768%;">Layer
 2 Networks with Cumulus Linux 
............................................................................................................................................
 4
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 20.5808%; width: 75.3268%; height: 1.76768%;">Objective
 
.......................................................................................................................................................................................
 4
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 22.7273%; width: 75.3268%; height: 1.76768%;">Enabling
 Choice of Hardware in the Data Center 
.......................................................................................................................
 4
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 25%; width: 75.3268%; height: 1.64141%;">Driving
 Towards Operational Efficiencies 
...................................................................................................................................
 4
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 27.1465%; width: 75.3268%; height: 1.76768%;">Intended
 Audience for Network Design and Build 
.....................................................................................................................
 5
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 29.2929%; width: 76.7974%; height: 1.76768%;">Understanding
 Layer 2 Architecture 
...............................................................................................................................................
 6
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 31.4394%; width: 75.3268%; height: 1.76768%;">Network
 Architecture and Design Considerations 
.....................................................................................................................
 6
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 33.7121%; width: 75.3268%; height: 1.64141%;">Management
 and Out-of-Band Networking Considerations 
......................................................................................................
 8
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 35.8586%; width: 75.3268%; height: 1.76768%;">Scaling-out
 the Architecture 
........................................................................................................................................................
 9
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 38.0051%; width: 76.7974%; height: 1.76768%;">External
 Connectivity 
.....................................................................................................................................................................10
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 40.1515%; width: 75.3268%; height: 1.76768%;">External
 Connectivity at Layer 2 
................................................................................................................................................10
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 42.4242%; width: 75.3268%; height: 1.64141%;">External
 Connectivity at Layer 3 
................................................................................................................................................11
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 44.5707%; width: 76.7974%; height: 1.76768%;">Implementing
 a Layer 2 Data Center Network with Cumulus Linux 
............................................................................................12
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 46.7172%; width: 75.3268%; height: 1.76768%;">Network
 Architecture for Hierarchical Layer 2 Leaf, Spine, and Core 
.....................................................................................12
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 48.8636%; width: 75.3268%; height: 1.76768%;">Build
 Steps 
.................................................................................................................................................................................15
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 51.1364%; width: 73.8562%; height: 1.64141%;">1.
 Set Up Physical Network and Basic Configuration of All Switches 
..................................................................................16
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 53.1566%; width: 73.8562%; height: 1.76768%;">2.
 Configure Leaf Switches 
....................................................................................................................................................18
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 55.1768%; width: 73.8562%; height: 1.76768%;">3.
 Configure Spine Switches 
.................................................................................................................................................24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 57.3232%; width: 73.8562%; height: 1.64141%;">4.
 Set Up Spine/Leaf Network Fabric 
...................................................................................................................................27
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 59.3434%; width: 73.8562%; height: 1.64141%;">5.
 Configure VLANs 
................................................................................................................................................................30
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 61.3636%; width: 73.8562%; height: 1.51515%;">6.
 Connect Hosts 
....................................................................................................................................................................32
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 63.3838%; width: 73.8562%; height: 1.76768%;">7.
 Connect Spine Switches to Core 
.......................................................................................................................................34
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 65.404%; width: 76.7974%; height: 1.51515%;">Automation
 Considerations 
...........................................................................................................................................................37
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 67.5505%; width: 75.3268%; height: 1.76768%;">Automation
 and Converged Administration 
..............................................................................................................................37
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 69.8232%; width: 75.3268%; height: 1.64141%;">Automated
 Switch Provisioning with Zero Touch Provisioning 
................................................................................................37
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 71.9697%; width: 75.3268%; height: 1.76768%;">Network
 Configuration Templates Using Mako 
........................................................................................................................38
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 74.1162%; width: 75.3268%; height: 1.76768%;">Automated
 Network Configuration Using Ansible 
....................................................................................................................39
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 76.2626%; width: 75.3268%; height: 1.76768%;">Automated
 Network Configuration Using Puppet 
.....................................................................................................................42
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 78.5354%; width: 76.7974%; height: 1.64141%;">Operational
 and Management Considerations 
............................................................................................................................46
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 80.6818%; width: 75.3268%; height: 1.51515%;">Authentication
 and Authorization 
..............................................................................................................................................46
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 82.8283%; width: 75.3268%; height: 1.76768%;">Security
 Hardening 
....................................................................................................................................................................46
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 84.9748%; width: 75.3268%; height: 1.76768%;">Accounting
 and 
Monitoring........................................................................................................................................................46
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 87.2475%; width: 75.3268%; height: 1.64141%;">Quality
 of Service (QoS) Considerations 
...................................................................................................................................47
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/633df6b9-a9e9-4f8a-9985-6622303d1206" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 2 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059900000000&amp;usg=AFQjCNFUeAmnYmSqXqIKLaYR-C5wv7-_jw&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a><a href="http://twitter.com/cumulusnetworks" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://twitter.com/cumulusnetworks" data-saferedirecturl="https://www.google.com/url?q=http://twitter.com/cumulusnetworks&amp;ust=1540059900000000&amp;usg=AFQjCNHBanngSA9SC4VsY9vOCi7p3b4RAQ&amp;hl=en" rel="noreferrer" style="left: 58.6601%; top: 64.7727%; width: 15.5229%; height: 2.39899%;"></a><a href="http://twitter.com/cumulusnetworks" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://twitter.com/cumulusnetworks" data-saferedirecturl="https://www.google.com/url?q=http://twitter.com/cumulusnetworks&amp;ust=1540059900000000&amp;usg=AFQjCNHBanngSA9SC4VsY9vOCi7p3b4RAQ&amp;hl=en" rel="noreferrer" style="left: 74.5098%; top: 64.7727%; width: 13.3987%; height: 2.39899%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 3 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">CONTENTS
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 76.7974%; height: 1.13636%;">www.cumulusnetworks.com 3
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 9.84849%; width: 75.3268%; height: 1.64141%;">Link
 
Pause..................................................................................................................................................................................48
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.3737%; width: 76.7974%; height: 1.26263%;">Conclusion......................................................................................................................................................................................49
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 14.6465%; width: 75.3268%; height: 1.26263%;">Summary
 
....................................................................................................................................................................................49
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 16.7929%; width: 75.3268%; height: 1.13636%;">References
 
.................................................................................................................................................................................49
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 18.5606%; width: 76.7974%; height: 1.76768%;">Appendix
 A: Example /etc/network/interfaces 
Configurations...................................................................................................51
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 21.0859%; width: 75.3268%; height: 1.26263%;">leaf01
 
.........................................................................................................................................................................................51
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 23.3586%; width: 75.3268%; height: 1.13636%;">leaf02
 
.........................................................................................................................................................................................53
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 25.5051%; width: 75.3268%; height: 1.38889%;">spine01
 
......................................................................................................................................................................................55
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 27.6515%; width: 75.3268%; height: 1.38889%;">spine02
 
......................................................................................................................................................................................57
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 13.0719%; top: 29.798%; width: 75.3268%; height: 1.38889%;">oob-mgmt
 
...................................................................................................................................................................................59
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 31.6919%; width: 76.7974%; height: 1.76768%;">Appendix
 B: Network Design and Setup 
Checklist.......................................................................................................................60
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 45.4545%; width: 8.66013%; height: 1.51515%;">Version 1.0.0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 47.7273%; width: 11.2745%; height: 1.64141%;">February 2, 2016
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 54.798%; width: 16.3399%; height: 1.51515%;">About Cumulus Networks
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 56.8182%; width: 76.3072%; height: 1.76768%;">Unleash the power of Open Networking with Cumulus Networks. Founded by veteran networking engineers from Cisco and
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 58.0808%; width: 72.8758%; height: 1.76768%;">VMware, Cumulus Networks makes the first Linux operating system for networking hardware and fills a critical gap in
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 59.4697%; width: 74.6732%; height: 1.64141%;">realizing the true promise of the software-defined data center. Just as Linux completely transformed the economics and
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 60.7323%; width: 75.3268%; height: 1.64141%;">innovation on the server side of the data center, Cumulus Linux is doing the same for the network. It is radically reducing
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 61.995%; width: 74.0196%; height: 1.76768%;">the costs and complexities of operating modern data center networks for service providers and businesses of all sizes.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 63.2576%; width: 73.0392%; height: 1.76768%;">Cumulus Networks has received venture funding from Andreessen Horowitz, Battery Ventures, Sequoia Capital, Peter
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 64.5202%; width: 76.634%; height: 1.76768%;">Wagner and four of the original VMware founders. For more information visit cumulusnetworks.com or @cumulusnetworks.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 69.1919%; width: 76.9608%; height: 1.38889%;">©2016
 Cumulus Networks. CUMULUS, the Cumulus Logo, CUMULUS NETWORKS, and the 
Rocket Turtle Logo (the “Marks”) are trademarks and service marks
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 70.3283%; width: 76.4706%; height: 1.38889%;">of
 Cumulus Networks, Inc. in the U.S. and other countries. You are not 
permitted to use the Marks without the prior written consent of Cumulus 
Networks. The
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 71.5909%; width: 76.3072%; height: 1.38889%;">registered
 trademark Linux® is used pursuant to a sublicense from LMI, the 
exclusive licensee of Linus Torvalds, owner of the mark on a world-wide 
basis. All
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 72.7273%; width: 36.9281%; height: 1.38889%;">other marks are used under fair use or license from their respective owners.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/dd06b445-573b-4c67-8c48-66031950286d" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 3 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 4 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 1.14379%; height: 1.13636%;">4
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.9281%; top: 8.33333%; width: 62.9085%; height: 4.0404%;">Layer 2 Networks with Cumulus Linux
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 17.6768%; width: 7.84314%; height: 2.0202%;">Objective
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 20.202%; width: 75.3268%; height: 1.64141%;">This Validated Design Guide presents a design and implementation approach for deploying layer 2 networks on switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 21.7172%; width: 15.3595%; height: 1.76768%;">running Cumulus Linux.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 24.7475%; width: 37.0915%; height: 2.0202%;">Enabling Choice of Hardware in the Data Center
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 27.1465%; width: 71.2418%; height: 1.76768%;">Server virtualization revolutionized the data center by giving IT the freedom and choice of industry-standard server
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 28.6616%; width: 73.8562%; height: 1.76768%;">hardware, thereby lowering CapEx costs, as well as a rich ecosystem of automation tools and services to provision and
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 30.303%; width: 46.0784%; height: 1.64141%;">manage compute and storage infrastructure to achieve lower OpEx costs.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 32.5758%; width: 76.634%; height: 1.76768%;">This same benefit of choice is now available for networking in the data center. With Cumulus Linux, network administrators
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 34.0909%; width: 71.5686%; height: 1.76768%;">have a multi-platform, multi-vendor network OS that provides the freedom of choice with network switch hardware.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 35.7323%; width: 77.1242%; height: 1.64141%;">Because Cumulus Linux is Linux, data center administrators can tap the already established wealth of Linux knowledge and
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 37.2475%; width: 75.4902%; height: 1.64141%;">vast application ecosystem for administering servers and extend them to network switches for converged administration.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 39.5202%; width: 75.9804%; height: 1.76768%;">Cumulus Linux can help you achieve the same CapEx and OpEx efficiencies for your networks by enabling an open market
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 41.0354%; width: 76.9608%; height: 1.76768%;">approach for switching platforms, and by offering a radically simple lifecycle management framework built on the industry’s
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 42.6768%; width: 75.4902%; height: 1.64141%;">best open source tools. By using bare metal servers and network switches, you can achieve cost savings that would have
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 44.1919%; width: 23.5294%; height: 1.64141%;">been impossible just a few years ago
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 47.2222%; width: 31.3726%; height: 2.0202%;">Driving Towards Operational Efficiencies
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 49.6212%; width: 73.2026%; height: 1.76768%;">With a disaggregated hardware and software model, Cumulus Networks has created a simple approach for managing
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 51.1364%; width: 16.9935%; height: 1.76768%;">complex layer 2 networks.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 53.4091%; width: 75.4902%; height: 1.76768%;">Cumulus Linux simplifies network management through hardware agnosticism and using standard Linux automation and
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 55.0505%; width: 70.915%; height: 1.64141%;">orchestration tools. Cumulus Linux is a full-featured network operating system and presents a standard interface,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 56.5657%; width: 75.6536%; height: 1.76768%;">regardless of the underlying hardware or features enabled. Automation tools can process templates that are written once
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 58.0808%; width: 74.6732%; height: 1.76768%;">and reused across the entire environment for provisioning and configuration management, substantially decreasing the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 59.596%; width: 71.8954%; height: 1.76768%;">number of upper level management systems and operating expenses as well as increasing the speed at which new
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 61.2374%; width: 74.6732%; height: 1.64141%;">networks are deployed. You can change key variables as needed in a template and power on an entirely new network in
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 62.7525%; width: 74.3464%; height: 1.76768%;">minutes without interacting with a CLI. You can leverage open source protocols and tools such as DHCP, Open Network
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 64.2677%; width: 74.0196%; height: 1.76768%;">Install Environment (ONIE), zero touch provisioning, and automation and orchestration tools of DevOps’ choice such as
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 65.7828%; width: 73.8562%; height: 1.76768%;">Ansible, Chef, Puppet, Salt, and CFEngine. These same tools are already used by many organizations to simplify server
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 67.4242%; width: 71.0784%; height: 1.64141%;">deployments, and modifying them to provision entire racks network switches becomes a simple task of converged
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 68.9394%; width: 10.1307%; height: 1.51515%;">administration.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/649cb8c8-eab9-4f08-b713-2f2aa01e3a53" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 4 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059900000000&amp;usg=AFQjCNFUeAmnYmSqXqIKLaYR-C5wv7-_jw&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a><a href="https://cumulusnetworks.com/technical-videos/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://cumulusnetworks.com/technical-videos/" data-saferedirecturl="https://www.google.com/url?q=https://cumulusnetworks.com/technical-videos/&amp;ust=1540059900000000&amp;usg=AFQjCNFxew1dYbeODy9TbYE4j2vBBk2zKg&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 22.601%; width: 26.634%; height: 2.65152%;"></a><a href="http://www.cumulusnetworks.com/hcl" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/hcl" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/hcl&amp;ust=1540059900000000&amp;usg=AFQjCNE3yOIBv61UWRpdKnjn1PQs3lXJtA&amp;hl=en" rel="noreferrer" style="left: 70.7516%; top: 26.3889%; width: 17.6471%; height: 1.89394%;"></a><a href="http://cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://cumulusnetworks.com/&amp;ust=1540059900000000&amp;usg=AFQjCNE08oAOzkjQM0XbB3s9A0ijvp1iXQ&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 29.4192%; width: 15.1961%; height: 2.77778%;"></a><a href="mailto:sales@cumulusnetworks.com" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" rel="noreferrer" role="link" aria-label="mailto:sales@cumulusnetworks.com" style="left: 35.7843%; top: 29.4192%; width: 19.4444%; height: 2.77778%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 5 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">LAYER 2 NETWORKS WITH CUMULUS LINUX
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 76.7974%; height: 1.13636%;">www.cumulusnetworks.com 5
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 9.84849%; width: 37.7451%; height: 2.0202%;">Intended Audience for Network Design and Build
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.3737%; width: 72.7124%; height: 1.64141%;">The intended audience for this guide is a data center cloud architect or administrator who is experienced with server
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 13.8889%; width: 74.5098%; height: 1.64141%;">technologies and familiar with layer 2 networking, including interfaces, link aggregation (LAG) or bonds, and VLANs. The
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 15.404%; width: 76.634%; height: 1.76768%;">network architecture and build steps provided in this document can be used as a reference for planning and implementing
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 16.9192%; width: 29.902%; height: 1.76768%;">layer 2 with Cumulus Linux in your environment.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 19.1919%; width: 75.3268%; height: 1.76768%;">A basic understanding of Linux commands is assumed, such as accessing a Linux installation, navigating the file system,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 20.8333%; width: 70.098%; height: 1.64141%;">and editing files. If you need to learn more about Linux, we suggest you review our Introduction to Linux videos at
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 22.3485%; width: 46.4052%; height: 1.76768%;">cumulusnetworks.com/technical-videos/ for a high level overview of Linux.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 24.6212%; width: 71.732%; height: 1.76768%;">If you are using this guide to help you set up your Cumulus Linux environment, we assume you have Cumulus Linux
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 26.1364%; width: 77.2876%; height: 1.76768%;">installed and licensed on switches from the Cumulus Linux Hardware Compatibility List (HCL) at cumulusnetworks.com/hcl.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 27.7778%; width: 64.5425%; height: 1.64141%;">Additional information on Cumulus Linux software, licensing, and supported hardware may be found on
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 29.2929%; width: 43.6275%; height: 1.76768%;">cumulusnetworks.com or by contacting sales@cumulusnetworks.com.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/b27f2120-fc79-40f5-81d9-6d43c1f03a77" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 5 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 6 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 1.14379%; height: 1.13636%;">6
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.7647%; top: 8.33333%; width: 58.4967%; height: 4.0404%;">Understanding Layer 2 Architecture
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 17.6768%; width: 37.5817%; height: 2.14646%;">Network Architecture and Design Considerations
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 20.202%; width: 72.7124%; height: 1.64141%;">Many applications in the data center require layer 2 adjacency, where the application assumes other components or
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 21.7172%; width: 71.732%; height: 1.76768%;">services are on the same IP subnet. In this environment it is assumed that a gateway is only needed to route traffic
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 23.2323%; width: 76.634%; height: 1.76768%;">between domains with different IP subnets. An example would be a virtual environment in which you assume that all of the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 24.8737%; width: 32.8431%; height: 1.64141%;">VMs can talk to each other without needing a router.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 27.1465%; width: 72.7124%; height: 1.64141%;">Figure 2 shows the network design of a typical enterprise data center pod running a virtual environment or container
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 28.6616%; width: 74.5098%; height: 1.76768%;">environment. The pod consists of a pair of aggregation/spine switches connected with one or more pairs of access/leaf
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 30.1768%; width: 64.3791%; height: 1.76768%;">switches, which in turn provide dual-homed highly available connectivity to hosts and storage elements.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 74.6732%; top: 56.8182%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 25.4902%; top: 58.7121%; width: 49.0196%; height: 1.64141%;">Figure 2. Traditional Layer 2 Hierarchical Enterprise Data Center Network Pod
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 60.9848%; width: 71.2418%; height: 1.76768%;">This document describes the network architecture for a layer 2 data center that follows the traditional hierarchical
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 62.5%; width: 73.8562%; height: 1.76768%;">aggregation and access, also called spine and leaf, structure where layer 2 networking is used to connect all elements.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 64.899%; width: 75.6536%; height: 1.64141%;">For optimal network performance, hosts are connected via dual 10G links to the access/leaf switch layer, which in turn is
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 66.4141%; width: 76.7974%; height: 1.76768%;">connected via 40G links to the aggregation/spine layer. Representative spine and leaf switches running Cumulus Linux are
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 67.9293%; width: 75.817%; height: 1.76768%;">show below in Figure 3, although the details of your specific models may vary. Spine switches typically have thirty-two 40G
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 69.4444%; width: 75.9804%; height: 1.76768%;">switch ports, whereas leaf switches have forty-eight 10G access ports and up to six 40G uplinks. In Cumulus Linux, switch
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 71.0859%; width: 31.2092%; height: 1.64141%;">ports are labeled swp1, swp2, swp3, and so forth.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/684b660c-78e3-45a3-96fa-b1c8239cbfb5" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 6 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059900000000&amp;usg=AFQjCNFUeAmnYmSqXqIKLaYR-C5wv7-_jw&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 7 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">UNDERSTANDING LAYER 2 ARCHITECTURE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 76.7974%; height: 1.13636%;">www.cumulusnetworks.com 7
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 86.4379%; top: 26.5152%; width: 0.816994%; height: 1.38889%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 24.0196%; top: 28.4091%; width: 51.9608%; height: 1.64141%;">Figure 3. Switch Port Numbering for Aggregation/Spine and Access/Leaf Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 30.6818%; width: 75.3268%; height: 1.76768%;">The network design employs multi-chassis link aggregation (MLAG) for network path redundancy and link aggregation for
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 32.197%; width: 71.8954%; height: 1.76768%;">network traffic optimization. The use of MLAG allows for active/active ports across physical switches and avoids the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 33.8384%; width: 75%; height: 1.64141%;">underutilization of network ports from ports that are deliberately placed in a blocking state to prevent loops by Spanning
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 35.3535%; width: 39.8693%; height: 1.64141%;">Tree Protocol (STP). MLAG is deployed using the following steps:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 37.7525%; width: 73.2026%; height: 1.64141%;">x Select a pair of physical switches, either a pair of leaf switches or a pair of spine switches. There can only be two
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 39.0152%; width: 70.7516%; height: 1.76768%;">switches in a single MLAG "logical switch” configuration, although you can have multiple MLAG pairs in a topology.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 40.404%; width: 70.098%; height: 1.64141%;">x Establish a peer link between pair members. It is recommended to set up the peer link as an LACP bond for
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 41.6667%; width: 22.3856%; height: 1.76768%;">increased reliability and bandwidth.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 43.1818%; width: 71.8954%; height: 1.64141%;">x A clagd daemon runs on each switch in the MLAG pair and communicates over a subinterface of the peer link.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 39.7059%; top: 63.8889%; width: 20.5882%; height: 1.64141%;">Figure 4. Switch-to-Switch MLAG
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 66.1616%; width: 75.9804%; height: 1.64141%;">The peer link between the switches in an MLAG pair should be sized accordingly to ensure there is sufficient bandwidth to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 67.6768%; width: 75.9804%; height: 1.76768%;">handle additional traffic during uplink failure scenarios. Typical deployments utilize a bond for the peer link to satisfy both
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 69.1919%; width: 26.3072%; height: 1.76768%;">bandwidth and redundancy requirements.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/2e8982f4-2d95-468f-a15d-6bc5c99e37c0" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 7 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 8 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 1.14379%; height: 1.13636%;">8
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 32.5163%; top: 33.0808%; width: 35.1307%; height: 1.64141%;">Figure 5. Host Link Redundancy and Aggregation, LACP
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.0719%; top: 56.9444%; width: 23.8562%; height: 1.64141%;">Figure 6. Host Network Segmentation
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 59.2172%; width: 72.8758%; height: 1.76768%;">Figure 6 shows the high availability (HA) component of the proposed layer 2 solution. As individual links are added or
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 60.7323%; width: 73.5294%; height: 1.76768%;">removed from the LACP uplink group, the traffic from applications such as databases or Web servers proceeds to flow
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 62.2475%; width: 74.5098%; height: 1.76768%;">uninterrupted to and from the host. The number of links present in the LACP uplink group directly affects the amount of
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 63.8889%; width: 77.2876%; height: 1.64141%;">bandwidth available to the applications but the loss of total available bandwidth is the only impact of a link failure on a host
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 65.404%; width: 13.0719%; height: 1.64141%;">with high availability.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 68.4344%; width: 44.6078%; height: 2.0202%;">Management and Out-of-Band Networking Considerations
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 70.8333%; width: 74.183%; height: 1.76768%;">An important supplement to the high capacity production data network is the management network used to administer
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 72.3485%; width: 72.3856%; height: 1.76768%;">infrastructure elements, such as network switches, physical servers, and storage systems. The architecture of these
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 73.9899%; width: 74.8366%; height: 1.64141%;">networks varies considerably based on their intended use, the elements themselves, and access isolation requirements.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 76.2626%; width: 77.1242%; height: 1.76768%;">This solution guide assumes that a single layer 2 domain is used to administer the network switches and storage elements.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 77.7778%; width: 75.9804%; height: 1.76768%;">These operations include imaging the elements, configuring them, and monitoring the running system. Some installations
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 79.2929%; width: 74.6732%; height: 1.76768%;">will also use this network for IPMI, also known as DRAC or iLO, access to the host. This network is expected to host both
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 80.9344%; width: 76.634%; height: 1.64141%;">DHCP and HTTP servers, such as isc-dhcp and apache2, as well as provide DNS reverse and forward resolution. In general,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 82.4495%; width: 75.6536%; height: 1.76768%;">these networks provide some means to connect to the corporate network, typically a connection through a router or jump
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 84.3434%; width: 3.43137%; height: 1.13636%;">host.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 86.2374%; width: 74.3464%; height: 1.76768%;">Figure 7 below shows the logical and, where possible, the physical connections of each element as well as the services
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 87.8788%; width: 22.2222%; height: 1.64141%;">required to realize this deployment.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/ee16acf8-6e4f-480f-a1db-107f3f561a4c" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 8 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059900000000&amp;usg=AFQjCNFUeAmnYmSqXqIKLaYR-C5wv7-_jw&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 9 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">UNDERSTANDING LAYER 2 ARCHITECTURE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 76.7974%; height: 1.13636%;">www.cumulusnetworks.com 9
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.8889%; top: 30.9343%; width: 22.3856%; height: 1.64141%;">Figure 7. Out-of-Band Management
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 33.2071%; width: 21.732%; height: 2.0202%;">Scaling-out the Architecture
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 36.3636%; width: 76.3072%; height: 1.76768%;">Scaling out the architecture involves adding more hosts to the access switch pairs, and then adding more access switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 37.8788%; width: 25.6536%; height: 1.76768%;">in pairs as needed, as shown in Figure 8.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 75.817%; top: 57.9545%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.3987%; top: 59.8485%; width: 23.366%; height: 1.64141%;">Figure 8. Adding Additional Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 62.1212%; width: 74.5098%; height: 1.76768%;">Once the limit for the spine switch pair approaches, an additional network pod of spine/leaf switches may be added, as
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 63.6364%; width: 75.6536%; height: 1.76768%;">shown in Figure 9. The only constraint is that in a Layer 2-only environment, additional spine switches should be added in
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 65.5303%; width: 3.75817%; height: 1.38889%;">pairs.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 35.1307%; top: 87.1212%; width: 29.902%; height: 1.64141%;">Figure 9. Adding Network Pods/Server Clusters
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/dd548635-48ff-4e5e-bae0-f834928ad2ec" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 9 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 10 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">10
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.9281%; top: 8.33333%; width: 34.4771%; height: 4.0404%;">External Connectivity
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 16.2879%; width: 77.1242%; height: 1.76768%;">The spine switches can connect to core switches in one of two ways, depending on where they sit relative to the layer 2 and
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 17.803%; width: 11.1111%; height: 1.76768%;">layer 3 boundary:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 20.202%; width: 61.9281%; height: 1.76768%;">x External connectivity at layer 2, with routing and gateway services provided outside the cluster
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 21.5909%; width: 55.0654%; height: 1.76768%;">x External connectivity at layer 3, with routing services provided by the spine switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 24.3687%; width: 24.6732%; height: 2.0202%;">External Connectivity at Layer 2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 26.7677%; width: 70.4248%; height: 1.76768%;">In this scenario, the spine switches connect to core switches that handle gateway services as shown in Figure 10.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 36.6013%; top: 54.1667%; width: 26.7974%; height: 1.76768%;">Figure 10. External Connectivity at Layer 2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 56.4394%; width: 76.634%; height: 1.76768%;">When connecting to core switches at layer 2, the core switches need to support a vendor-specific form of multi-chassis link
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 58.0808%; width: 52.451%; height: 1.64141%;">aggregation (such as vPC, MC-LAG, or MLAG) with which the spine switches can pair.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 60.3535%; width: 76.9608%; height: 1.76768%;">If the core switches are not capable of MLAG, then you may need to consider that with the VLAN-aware bridge introduced in
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 61.8687%; width: 76.1438%; height: 1.76768%;">Cumulus Linux 2.5, a single instance of spanning tree runs on each switch. By default, BPDUs are sent on the native VLAN
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 63.3838%; width: 76.3072%; height: 1.76768%;">1 when spanning tree is enabled on the VLAN-aware bridge. The native VLAN should match on the core switches to ensure
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 65.0253%; width: 77.1242%; height: 1.64141%;">spanning tree compatibility. To adjust the untagged or native VLAN for an interface, refer to the Configure VLANs step in the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 66.5404%; width: 74.183%; height: 1.64141%;">Build Steps later in this document. In addition, all VLANs that are to be trunked to the core should be allowed on all the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 68.0556%; width: 36.2745%; height: 1.76768%;">uplink trunk interfaces to avoid potentially blocked VLANs.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 35.1307%; top: 70.3283%; width: 0.816994%; height: 1.76768%;">
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/2e3041b0-0938-4208-a360-00cdbe193f36" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 10 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNHhi2EH5EKUlU5ACCbhYCimgSJ94w&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a><a href="https://docs.cumulusnetworks.com/display/DOCS/Virtual+Router+Redundancy+-+VRR" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://docs.cumulusnetworks.com/display/DOCS/Virtual+Router+Redundancy+-+VRR" data-saferedirecturl="https://www.google.com/url?q=https://docs.cumulusnetworks.com/display/DOCS/Virtual%2BRouter%2BRedundancy%2B-%2BVRR&amp;ust=1540059960000000&amp;usg=AFQjCNGAo2TBVmmytqwxWCWEoTcmlUoXSw&amp;hl=en" rel="noreferrer" style="left: 66.9935%; top: 52.7778%; width: 19.9346%; height: 2.77778%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 11 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">EXTERNAL CONNECTIVITY
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 77.7778%; height: 1.13636%;">www.cumulusnetworks.com 11
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 9.84849%; width: 24.6732%; height: 2.0202%;">External Connectivity at Layer 3
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.3737%; width: 76.1438%; height: 1.64141%;">In this scenario, the spine switches connect at layer 3 as shown in Figure 11. Alternatively, the spine switches can be dual
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 13.8889%; width: 41.1765%; height: 1.64141%;">connected to each core switch at layer 3 (not shown in Figure 11).
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 36.6013%; top: 43.4343%; width: 26.7974%; height: 1.64141%;">Figure 11. External Connectivity at Layer 3
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 45.7071%; width: 74.0196%; height: 1.76768%;">In this design, the spine switches route traffic. To connect to the core switches, you will need to determine whether the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 47.2222%; width: 46.0784%; height: 1.76768%;">routing is static or dynamic, and the protocol — OSPF or BGP — if dynamic.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 49.495%; width: 74.8366%; height: 1.76768%;">In addition, you will need to provide a gateway and routing between all layer 2 subnets on the spine switches. Additional
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 51.1364%; width: 73.6928%; height: 1.64141%;">network design considerations for this scenario include setting up Virtual Router Redundancy (VRR) between the spine
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 52.6515%; width: 75.3268%; height: 1.76768%;">switch pair to support active/active forwarding. For more information about VRR, read the Cumulus Linux documentation.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/ad04709b-07d9-4a64-a8c7-51846c71e1bd" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 11 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 12 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">12
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.9281%; top: 8.33333%; width: 75.6536%; height: 4.0404%;">Implementing a Layer 2 Data Center Network
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.5%; width: 32.5163%; height: 3.40909%;">with Cumulus Linux
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 21.8434%; width: 51.634%; height: 2.0202%;">Network Architecture for Hierarchical Layer 2 Leaf, Spine, and Core
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 24.2424%; width: 76.1438%; height: 1.76768%;">The instructions that follow detail the steps needed for building a representative network for providing layer 2 connectivity
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 25.8838%; width: 74.183%; height: 1.64141%;">between servers using switches running Cumulus Linux. Actual configurations reference the following network topology.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 40.8497%; top: 54.0404%; width: 18.3007%; height: 1.64141%;">Figure 12. Network Topology
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 56.3131%; width: 67.1569%; height: 1.64141%;">The details for the switches, hosts, and logical interfaces are presented in the tables on the following pages.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 58.5859%; width: 73.2026%; height: 1.76768%;">The following steps are assembled sequentially such that each step builds on the previous step and only includes the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 60.101%; width: 75.1634%; height: 1.76768%;">portions of the configuration that are relevant for the given step. If at any point it is unclear what configuration should be
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 61.7424%; width: 75.9804%; height: 1.64141%;">present, Appendix A includes the complete configurations for all the leaves and spines; you can copy these configurations
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 63.2576%; width: 65.1961%; height: 1.64141%;">directly to a test environment. The build steps demonstrate why each piece of configuration is necessary.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/296c1063-e711-4006-8065-8450dbd4c517" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 12 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNHhi2EH5EKUlU5ACCbhYCimgSJ94w&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 13 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">IMPLEMENTING A LAYER 2 DATA CENTER NETWORK WITH CUMULUS LINUX
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 77.7778%; height: 1.13636%;">www.cumulusnetworks.com 13
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 10.7323%; width: 4.90196%; height: 1.51515%;">leaf01
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 12.7525%; width: 8.49673%; height: 1.64141%;">connected to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 33.4967%; top: 10.7323%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 28.4314%; top: 12.7525%; width: 10.9477%; height: 1.76768%;">Logical Interface
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 10.7323%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 12.7525%; width: 7.84314%; height: 1.76768%;">Description
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 10.7323%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 12.7525%; width: 11.9281%; height: 1.76768%;">Physical Interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 15.6566%; width: 64.5425%; height: 1.76768%;">leaf02 peerlink Peer bond utilized for MLAG traffic swp47, swp48
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 17.803%; width: 10.2941%; height: 1.64141%;">(swp45, swp46
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 19.0657%; width: 8.16994%; height: 1.51515%;">reserved for
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 20.7071%; width: 7.18954%; height: 1.26263%;">expansion)
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 23.2323%; width: 44.6078%; height: 1.76768%;">leaf02 peerlink.4094 Subinterface used for clagd
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 24.8737%; width: 9.96732%; height: 1.26263%;">communication
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 23.6111%; width: 2.77778%; height: 1.38889%;">N/A
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 27.5253%; width: 64.5425%; height: 1.64141%;">spine01, spine02 uplink1 For MLAG between spine01 and spine02 swp49, swp50
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 30.303%; width: 51.1438%; height: 1.76768%;">future use uplink2 Reserved for additional connections to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 32.0707%; width: 4.41176%; height: 1.26263%;">spines
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 30.303%; width: 9.47712%; height: 1.76768%;">swp51, swp52
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 34.596%; width: 68.6275%; height: 1.64141%;">multiple hosts access ports Connect to hosts and storage swp1 through swp44
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 37.5%; width: 58.8235%; height: 1.64141%;">host-01 host-01 Bond to host-01 for host-to-switch MLAG swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 40.404%; width: 7.84314%; height: 1.51515%;">out-of-band
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 42.0455%; width: 8.66013%; height: 1.26263%;">management
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 27.7778%; top: 40.404%; width: 45.098%; height: 1.64141%;">N/A Out-of-band management interface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 46.9697%; width: 4.90196%; height: 1.51515%;">leaf02
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 48.9899%; width: 8.49673%; height: 1.51515%;">connected to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 33.4967%; top: 46.9697%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 28.4314%; top: 48.9899%; width: 10.9477%; height: 1.76768%;">Logical Interface
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 46.9697%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 48.9899%; width: 7.84314%; height: 1.64141%;">Description
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 46.9697%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 48.9899%; width: 11.9281%; height: 1.76768%;">Physical Interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 51.8939%; width: 64.5425%; height: 1.64141%;">leaf01 peerlink Peer bond utilized for MLAG traffic swp47, swp48
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 53.9141%; width: 10.2941%; height: 1.76768%;">(swp45, swp46
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 55.1768%; width: 8.16994%; height: 1.51515%;">reserved for
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 56.8182%; width: 7.18954%; height: 1.38889%;">expansion)
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 59.4697%; width: 44.6078%; height: 1.64141%;">leaf01 peerlink.4094 Subinterface used for clagd
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 61.1111%; width: 9.96732%; height: 1.13636%;">communication
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 59.7222%; width: 2.77778%; height: 1.38889%;">N/A
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 63.6364%; width: 64.5425%; height: 1.64141%;">spine01, spine02 uplink For MLAG between spine01 and spine02 swp49, swp50
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 66.5404%; width: 51.1438%; height: 1.64141%;">future use uplink2 Reserved for additional connections to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 68.1818%; width: 4.41176%; height: 1.38889%;">spines
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 66.5404%; width: 9.47712%; height: 1.64141%;">swp51, swp52
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 70.7071%; width: 68.6275%; height: 1.76768%;">multiple hosts access ports Connect to hosts and storage swp1 through swp44
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 73.6111%; width: 58.8235%; height: 1.64141%;">host-01 host-01 Bond to host-01 for host-to-switch MLAG swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 76.5152%; width: 7.84314%; height: 1.51515%;">out-of-band
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 78.2828%; width: 8.66013%; height: 1.26263%;">management
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 27.7778%; top: 76.5152%; width: 45.098%; height: 1.76768%;">N/A Out-of-band management interface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 85.3535%; width: 4.90196%; height: 1.51515%;">leaf0N
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 87.5%; width: 8.49673%; height: 1.51515%;">connected to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 33.4967%; top: 85.3535%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 28.4314%; top: 87.5%; width: 10.9477%; height: 1.64141%;">Logical Interface
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 85.3535%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 87.5%; width: 7.84314%; height: 1.64141%;">Description
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 85.3535%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 87.5%; width: 11.9281%; height: 1.64141%;">Physical Interfaces
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/9de82dcc-3317-4581-8476-1c2542888235" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 13 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 14 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">14
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 9.59596%; width: 4.90196%; height: 1.51515%;">leaf0N
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 11.6162%; width: 8.49673%; height: 1.51515%;">connected to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 33.4967%; top: 9.59596%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 28.4314%; top: 11.6162%; width: 10.9477%; height: 1.76768%;">Logical Interface
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 9.59596%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 11.6162%; width: 7.84314%; height: 1.64141%;">Description
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 9.59596%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 11.6162%; width: 11.9281%; height: 1.64141%;">Physical Interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 14.5202%; width: 38.0719%; height: 1.76768%;">Repeat above configurations for each additional pair of leafs.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 19.8232%; width: 5.88235%; height: 1.64141%;">spine01
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 21.8434%; width: 8.49673%; height: 1.51515%;">connected to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 33.4967%; top: 19.8232%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 28.4314%; top: 21.8434%; width: 10.9477%; height: 1.76768%;">Logical Interface
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 19.8232%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 21.8434%; width: 7.84314%; height: 1.64141%;">Description
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 19.8232%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 21.8434%; width: 11.9281%; height: 1.76768%;">Physical Interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 24.7475%; width: 64.5425%; height: 1.64141%;">spine02 peerlink Peer bond utilized for MLAG traffic swp25, swp26
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 27.6515%; width: 44.6078%; height: 1.76768%;">spine02 peerlink.4093 Subinterface used for clagd
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 29.4192%; width: 9.96732%; height: 1.13636%;">communication
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 28.0303%; width: 2.77778%; height: 1.26263%;">N/A
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 31.8182%; width: 62.9085%; height: 1.76768%;">leaf01, leaf02 leaf-pair-01 Bond to another peer link group swp1, swp2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 34.7222%; width: 64.5425%; height: 1.76768%;">core1, core2 core-uplink Bond to core switches swp31, swp32
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 37.6263%; width: 7.84314%; height: 1.51515%;">out-of-band
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 39.3939%; width: 8.66013%; height: 1.26263%;">management
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 27.7778%; top: 37.6263%; width: 45.098%; height: 1.76768%;">N/A Out-of-band management interface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 44.3182%; width: 5.88235%; height: 1.64141%;">spine02
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 46.3384%; width: 8.49673%; height: 1.51515%;">connected to
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 33.4967%; top: 44.3182%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 28.4314%; top: 46.3384%; width: 10.9477%; height: 1.64141%;">Logical Interface
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 44.3182%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 46.3384%; width: 7.84314%; height: 1.64141%;">Description
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.6078%; top: 44.3182%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 46.3384%; width: 11.9281%; height: 1.64141%;">Physical Interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 49.2424%; width: 64.5425%; height: 1.64141%;">spine01 peerlink Peer bond utilized for MLAG traffic swp25, swp26
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 52.1465%; width: 44.6078%; height: 1.76768%;">spine01 peerlink.4093 Subinterface used for clagd
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 41.0131%; top: 53.7879%; width: 9.96732%; height: 1.13636%;">communication
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 69.7712%; top: 52.5253%; width: 2.77778%; height: 1.26263%;">N/A
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 56.3131%; width: 62.9085%; height: 1.76768%;">leaf01, leaf02 downlink1 Bond to another peer link group swp1, swp2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 59.2172%; width: 64.5425%; height: 1.76768%;">core1, core2 core-uplink Bond to core switches swp31, swp32
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 62.1212%; width: 7.84314%; height: 1.51515%;">out-of-band
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 63.8889%; width: 8.66013%; height: 1.26263%;">management
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 27.7778%; top: 62.1212%; width: 45.098%; height: 1.76768%;">N/A Out-of-band management interface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 65.9091%; width: 0.816994%; height: 1.51515%;">
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/6a051ec4-387a-4fff-bcb8-a13e691540aa" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 14 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNHhi2EH5EKUlU5ACCbhYCimgSJ94w&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 15 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">IMPLEMENTING A LAYER 2 DATA CENTER NETWORK WITH CUMULUS LINUX
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 77.7778%; height: 1.13636%;">www.cumulusnetworks.com 15
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 9.84849%; width: 9.47712%; height: 2.0202%;">Build Steps
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.3737%; width: 67.8105%; height: 1.64141%;">The steps for building out a layer 2 network environment with switches running Cumulus Linux are as follows.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 15.404%; width: 42.4837%; height: 1.76768%;">Step Tasks
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 18.3081%; width: 11.1111%; height: 1.76768%;">Physical Network
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 12.7451%; top: 21.2121%; width: 35.9477%; height: 1.76768%;">1. Set up physical network and basic configuration of
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 16.6667%; top: 22.601%; width: 8.33333%; height: 1.51515%;">all switches.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 21.2121%; width: 23.0392%; height: 1.64141%;">Rack and cable all network switches.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 23.3586%; width: 13.8889%; height: 1.51515%;">Install Cumulus Linux.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50%; top: 25.3788%; width: 11.9281%; height: 1.64141%;">Verify connectivity.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 27.399%; width: 22.7124%; height: 1.76768%;">Configure out-of-band management.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50%; top: 29.4192%; width: 9.47712%; height: 1.51515%;">Set hostname.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 31.4394%; width: 9.64052%; height: 1.76768%;">Configure DNS.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 33.5859%; width: 9.47712%; height: 1.64141%;">Configure NTP.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 36.4899%; width: 11.4379%; height: 1.64141%;">Network Topology
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 12.5817%; top: 39.3939%; width: 63.3987%; height: 1.64141%;">2. Configure leaf switches. Configure each switch in pair individually.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 41.4141%; width: 19.7712%; height: 1.64141%;">Create peer bond between pair.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 43.4343%; width: 28.1046%; height: 1.76768%;">Enable MLAG peering between leaf switches.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 12.5817%; top: 46.3384%; width: 63.3987%; height: 1.76768%;">3. Configure spine switches. Configure each switch in pair individually.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 48.3586%; width: 19.9346%; height: 1.76768%;">Create peer bond between pair.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 50.3788%; width: 29.085%; height: 1.76768%;">Enable MLAG peering between spine switches.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 12.5817%; top: 53.2828%; width: 70.2614%; height: 1.76768%;">4. Set up spine/leaf network fabric. Create a switch-to-switch “uplink” bond on each leaf
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50%; top: 54.5455%; width: 25.6536%; height: 1.76768%;">switch to the spine pair and verify MLAG.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 56.6919%; width: 35.4575%; height: 1.64141%;">Create a switch-to-switch bond on the spine pair to each
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 57.9545%; width: 20.4248%; height: 1.64141%;">leaf switch pair and verify MLAG.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 12.5817%; top: 60.8586%; width: 52.6144%; height: 1.64141%;">5. Configure VLANs Set up VLANs for traffic.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 12.5817%; top: 63.7626%; width: 14.2157%; height: 1.51515%;">6. Connect hosts.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 16.6667%; top: 65.7828%; width: 0.816994%; height: 1.51515%;">
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 63.7626%; width: 25%; height: 1.64141%;">Provision hosts OS (if not done already).
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 65.7828%; width: 19.4444%; height: 1.51515%;">Connect hosts to leaf switches.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 67.803%; width: 25.1634%; height: 1.76768%;">Configure hosts with LACP bond uplinks.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 69.8232%; width: 18.7909%; height: 1.76768%;">Provision layer 2 applications.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 12.7451%; top: 72.7273%; width: 71.4052%; height: 1.76768%;">7. Connect spine switches to core. Configure depending on layer 2 or layer 3 connectivity:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 74.8737%; width: 7.18954%; height: 1.64141%;">For layer 2:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 76.8939%; width: 35.1307%; height: 1.64141%;">Create an MLAG port channel to the core for each spine
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50%; top: 78.5354%; width: 4.73856%; height: 1.13636%;">switch.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 80.1768%; width: 32.6797%; height: 1.76768%;">On each core, create an MLAG or vendor-equivalent
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 81.4394%; width: 35.9477%; height: 1.76768%;">Multi-Chassis Link Aggregation to the logical spine switch
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 83.2071%; width: 2.94118%; height: 1.26263%;">pair.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 84.8485%; width: 7.18954%; height: 1.64141%;">For layer 3:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 50.1634%; top: 86.8687%; width: 34.9673%; height: 1.76768%;">Configure layer 3 switch virtual interface (SVI) gateways.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/aa65a8cd-a079-4a3a-ab9a-a8fd9a5456a4" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 15 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="https://docs.cumulusnetworks.com/display/DOCS/Quick+Start+Guide" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://docs.cumulusnetworks.com/display/DOCS/Quick+Start+Guide" data-saferedirecturl="https://www.google.com/url?q=https://docs.cumulusnetworks.com/display/DOCS/Quick%2BStart%2BGuide&amp;ust=1540059960000000&amp;usg=AFQjCNFG-fd8I0_1sAfHV6ktzMeqOjyBRw&amp;hl=en" rel="noreferrer" style="left: 19.1176%; top: 33.3333%; width: 20.098%; height: 2.65152%;"></a><a href="https://docs.cumulusnetworks.com/display/DOCS/Configuring+and+Managing+Network+Interfaces" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://docs.cumulusnetworks.com/display/DOCS/Configuring+and+Managing+Network+Interfaces" data-saferedirecturl="https://www.google.com/url?q=https://docs.cumulusnetworks.com/display/DOCS/Configuring%2Band%2BManaging%2BNetwork%2BInterfaces&amp;ust=1540059960000000&amp;usg=AFQjCNG7J_AETrFI7rztHb0cMWAcnLfd1w&amp;hl=en" rel="noreferrer" style="left: 49.183%; top: 42.6768%; width: 20.098%; height: 2.77778%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 16 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">16
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 8.71212%; width: 77.2876%; height: 1.76768%;">In a greenfield environment, the order of configuring spine or leaf switches does not matter, so steps 3 and 4 above may be
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 10.2273%; width: 74.8366%; height: 1.64141%;">done in reverse order. In a brownfield environment, start with leaf switches as shown above for minimal network service
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.1212%; width: 7.51634%; height: 1.38889%;">disruptions.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 14.1414%; width: 76.634%; height: 1.64141%;">The build order is detailed out in the following steps. Reference the Network Design and Setup Checklist in the appendix of
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 15.6566%; width: 28.9216%; height: 1.76768%;">this guide for use in building out your network.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 18.6869%; width: 51.4706%; height: 2.0202%;">1. Set Up Physical Network and Basic Configuration of All Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 21.2121%; width: 25.817%; height: 1.51515%;">x Rack and cable all network switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 22.601%; width: 16.5033%; height: 1.51515%;">x Install Cumulus Linux
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 23.9899%; width: 25.3268%; height: 1.76768%;">x Configure out-of-band management
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 25.3788%; width: 14.5425%; height: 1.64141%;">x Verify connectivity
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 26.7677%; width: 11.9281%; height: 1.51515%;">x Set hostname
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 28.1566%; width: 12.4183%; height: 1.76768%;">x Configure DNS
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 29.5455%; width: 12.0915%; height: 1.76768%;">x Configure NTP
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 31.5657%; width: 74.6732%; height: 1.76768%;">After racking and cabling all switches, install the Cumulus Linux OS and license on each switch. Refer to the Quick Start
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 33.0808%; width: 76.1438%; height: 1.76768%;">Guide of the Cumulus Linux documentation for more information. Next, configure the out-of-band management as needed.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 35.4798%; width: 75.817%; height: 1.76768%;">To verify all cables are connected and functional, check the link state. To check the link state of a switch port, run the ip
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 37.1212%; width: 70.915%; height: 1.64141%;">link show command, which displays the physical link and administrative state of the interface and basic layer 2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 38.6364%; width: 73.366%; height: 1.76768%;">information. To show the layer 3 information as well, such as IPv4 or IPv6 address, use the ip addr show command.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 41.0354%; width: 70.7516%; height: 1.64141%;">Look for the UP states in the output. This command checks link state but does not detect traffic flow. Refer to the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 42.5505%; width: 70.7516%; height: 1.76768%;">Configuring and Managing Network Interfaces chapter of the Cumulus Linux documentation for more information.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 45.0758%; width: 33.4967%; height: 1.76768%;">cumulus@leaf01$ sudo ip link set up swp47
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 48.3586%; width: 27.7778%; height: 1.64141%;">cumulus@leaf01$ ip link show swp47
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 49.8737%; width: 68.3007%; height: 1.76768%;">49: swp47: &lt;BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 51.5152%; width: 31.8627%; height: 1.76768%;">peerlink state UP mode DEFAULT qlen 500
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 53.1566%; width: 43.9542%; height: 1.64141%;">link/ether 70:72:cf:9d:4e:64 brd ff:ff:ff:ff:ff:ff
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 55.5556%; width: 75%; height: 1.76768%;">To help verify that cables are properly connected according to your network topology diagram, check what neighbors are
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 57.0707%; width: 71.0784%; height: 1.76768%;">observed from each switch port. For example, to see what port is connected to swp47 on leaf01, run the following
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 58.7121%; width: 59.4771%; height: 1.64141%;">command and observe the LLDP neighbor’s output to verify that swp47 on leaf02 is connected.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 61.2374%; width: 27.7778%; height: 1.76768%;">cumulus@leaf01$ sudo lldpctl swp47
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 63.6364%; width: 63.8889%; height: 0.505051%;">-------------------------------------------------------------------------------
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 64.3939%; width: 12.0915%; height: 1.76768%;">LLDP neighbors:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 66.7929%; width: 63.8889%; height: 0.505051%;">-------------------------------------------------------------------------------
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 67.6768%; width: 51.3072%; height: 1.64141%;">Interface: swp47, via: LLDP, RID: 7, Time: 14 days, 20:06:51
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 69.1919%; width: 8.16994%; height: 1.51515%;">Chassis:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 70.8333%; width: 31.8627%; height: 1.51515%;">ChassisID: mac c4:54:44:bc:ff:f0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 72.3485%; width: 19.7712%; height: 1.76768%;">SysName: leaf02
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 73.9899%; width: 25.4902%; height: 1.76768%;">SysDescr: Cumulus Linux
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 75.6313%; width: 24.5098%; height: 1.76768%;">MgmtIP: 192.168.0.91
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 77.1465%; width: 22.8758%; height: 1.76768%;">Capability: Bridge, on
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 78.7879%; width: 22.8758%; height: 1.76768%;">Capability: Router, on
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 80.4293%; width: 5.71895%; height: 1.51515%;">Port:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 81.9444%; width: 24.5098%; height: 1.76768%;">PortID: ifname swp47
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 83.5859%; width: 18.9542%; height: 1.76768%;">PortDescr: swp47
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 85.9849%; width: 63.8889%; height: 0.505051%;">-------------------------------------------------------------------------------
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/81a53152-5de8-46db-b4ac-ab80f5b199d3" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 16 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNHhi2EH5EKUlU5ACCbhYCimgSJ94w&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a><a href="http://repo.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://repo.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://repo.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNGzQaLapVfv4EWNYQbpWHHyQbm5eA&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 13.2576%; width: 18.4641%; height: 2.65152%;"></a><a href="https://docs.cumulusnetworks.com/display/DOCS/Quick+Start+Guide" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://docs.cumulusnetworks.com/display/DOCS/Quick+Start+Guide" data-saferedirecturl="https://www.google.com/url?q=https://docs.cumulusnetworks.com/display/DOCS/Quick%2BStart%2BGuide&amp;ust=1540059960000000&amp;usg=AFQjCNFG-fd8I0_1sAfHV6ktzMeqOjyBRw&amp;hl=en" rel="noreferrer" style="left: 42.6471%; top: 22.601%; width: 20.098%; height: 2.0202%;"></a><a href="https://docs.cumulusnetworks.com/display/DOCS/Quick+Start+Guide" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://docs.cumulusnetworks.com/display/DOCS/Quick+Start+Guide" data-saferedirecturl="https://www.google.com/url?q=https://docs.cumulusnetworks.com/display/DOCS/Quick%2BStart%2BGuide&amp;ust=1540059960000000&amp;usg=AFQjCNFG-fd8I0_1sAfHV6ktzMeqOjyBRw&amp;hl=en" rel="noreferrer" style="left: 45.2614%; top: 77.7778%; width: 20.098%; height: 2.65152%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 17 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">IMPLEMENTING A LAYER 2 DATA CENTER NETWORK WITH CUMULUS LINUX
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 77.7778%; height: 1.13636%;">www.cumulusnetworks.com 17
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 9.97475%; width: 74.183%; height: 1.64141%;">Note: To configure files in Cumulus Linux, use your choice of text editor. A standard Cumulus Linux installation includes
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 11.4899%; width: 71.732%; height: 1.76768%;">nano, vi, and zile. Additionally, you can install additional editors such as vim from the Cumulus Linux repository,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 13.3838%; width: 17.8105%; height: 1.38889%;">repo.cumulusnetworks.com.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 15.404%; width: 74.0196%; height: 1.76768%;">The examples in this guide use vi as the text editor. If you are not familiar with using vi, substitute the command with
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 17.0455%; width: 38.0719%; height: 1.64141%;">nano or zile, which may have more familiar user interfaces.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 19.3182%; width: 76.4706%; height: 1.76768%;">The default configuration for eth0, the management interface, is DHCP. To reconfigure eth0 to use a static IP address, edit
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 20.8333%; width: 74.183%; height: 1.76768%;">the /etc/network/interfaces file by adding an IP address/mask and an optional gateway. Refer to the Quick Start
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 22.4747%; width: 75%; height: 1.76768%;">Guide, Wired Ethernet Management section of the Cumulus Linux documentation for more information. For example, on
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 23.9899%; width: 34.1503%; height: 1.76768%;">the leaf and spine switches, configure them as follows:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 26.5152%; width: 38.2353%; height: 1.76768%;">cumulus@leaf01$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 29.798%; width: 7.67974%; height: 1.51515%;">auto eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 31.4394%; width: 8.33333%; height: 1.51515%;">iface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 32.9545%; width: 22.2222%; height: 1.64141%;">address 192.168.0.90/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 34.596%; width: 20.5882%; height: 1.76768%;">gateway 192.168.0.254
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 37.7525%; width: 38.2353%; height: 1.76768%;">cumulus@leaf02$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 40.9091%; width: 7.67974%; height: 1.51515%;">auto eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 42.5505%; width: 8.33333%; height: 1.51515%;">iface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 44.1919%; width: 22.2222%; height: 1.64141%;">address 192.168.0.91/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 45.7071%; width: 20.5882%; height: 1.76768%;">gateway 192.168.0.254
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 48.9899%; width: 39.0523%; height: 1.64141%;">cumulus@spine01$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 52.1465%; width: 7.67974%; height: 1.51515%;">auto eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 53.7879%; width: 8.33333%; height: 1.51515%;">iface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 55.303%; width: 22.2222%; height: 1.64141%;">address 192.168.0.94/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 56.9444%; width: 20.5882%; height: 1.76768%;">gateway 192.168.0.254
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 60.101%; width: 39.0523%; height: 1.76768%;">cumulus@spine02$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 63.2576%; width: 7.67974%; height: 1.64141%;">auto eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 64.899%; width: 8.33333%; height: 1.51515%;">iface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 66.5404%; width: 22.2222%; height: 1.64141%;">address 192.168.0.95/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 68.0556%; width: 20.5882%; height: 1.76768%;">gateway 192.168.0.254
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 70.5808%; width: 11.7647%; height: 1.64141%;">Setting Hostname
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 72.8535%; width: 77.1242%; height: 1.76768%;">The default for the hostname of a switch running Cumulus Linux is cumulus. Change this to the appropriate name based on
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 74.495%; width: 75.817%; height: 1.64141%;">your network architecture diagram, such as leaf01 or spine01, by modifying /etc/hostname and /etc/hosts. Changes
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 76.0101%; width: 76.1438%; height: 1.76768%;">to the /etc/hostname file do not take effect until you reboot that switch. You can find additional information in the Quick
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 77.6515%; width: 61.9281%; height: 1.64141%;">Start Guide, Setting Unique Host Names section of the Cumulus Linux documentation. For example:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 80.1768%; width: 30.2288%; height: 1.76768%;">cumulus@leaf01$ sudo vi /etc/hostname
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 82.0707%; width: 5.22876%; height: 1.26263%;">leaf01
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 84.9748%; width: 27.7778%; height: 1.76768%;">cumulus@leaf01$ sudo vi /etc/hosts
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 86.6162%; width: 22.8758%; height: 1.51515%;">127.0.0.1 leaf01 localhost
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/59adbb88-f899-4464-9ffe-c6be99efd604" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 17 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.pool.ntp.org/join.html" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.pool.ntp.org/join.html" data-saferedirecturl="https://www.google.com/url?q=http://www.pool.ntp.org/join.html&amp;ust=1540059960000000&amp;usg=AFQjCNFI3Obu34cuLY8uFbSxykEobDuhiQ&amp;hl=en" rel="noreferrer" style="left: 24.8366%; top: 37.7525%; width: 26.9608%; height: 1.38889%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 18 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">18
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 8.71212%; width: 10.7843%; height: 1.76768%;">Configuring DNS
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 9.97475%; width: 75.9804%; height: 1.76768%;">Modify your DNS settings if needed. Add your domain, search domain, and nameserver entries to the /etc/resolv.conf
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 11.6162%; width: 27.6144%; height: 1.64141%;">file. These changes take effect immediately.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 14.1414%; width: 32.6797%; height: 1.76768%;">cumulus@leaf01$ sudo vi /etc/resolv.conf
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 17.4242%; width: 14.8693%; height: 1.64141%;">domain example.com
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 18.9394%; width: 14.8693%; height: 1.76768%;">search example.com
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 20.5808%; width: 14.8693%; height: 1.51515%;">nameserver x.x.x.x
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 22.9798%; width: 26.1438%; height: 1.76768%;">Configuring NTP (Network Time Protocol)
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 25.2525%; width: 71.5686%; height: 1.76768%;">By default, NTP is installed and enabled on Cumulus Linux. To override the default NTP servers hosted by Cumulus
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 26.8939%; width: 74.6732%; height: 1.76768%;">Networks, edit the /etc/ntp.conf file. Find the 4 servers that are configured by default and modify the lines to reflect
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 28.4091%; width: 16.0131%; height: 1.76768%;">your desired NTP servers.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 31.0606%; width: 30.2288%; height: 1.76768%;">cumulus@leaf01$ sudo vi /etc/ntp.conf
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 34.2172%; width: 61.7647%; height: 1.76768%;"># pool.ntp.org maps to about 1000 low-stratum NTP servers. Your server will
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 35.8586%; width: 61.7647%; height: 1.76768%;"># pick a different set every time it starts up. Please consider joining the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 37.5%; width: 35.1307%; height: 1.64141%;"># pool: &lt;http://www.pool.ntp.org/join.html&gt;
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 39.0152%; width: 35.9477%; height: 1.76768%;">server 0.cumulusnetworks.pool.ntp.org iburst
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 40.6566%; width: 35.9477%; height: 1.76768%;">server 1.cumulusnetworks.pool.ntp.org iburst
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 42.1717%; width: 35.9477%; height: 1.76768%;">server 2.cumulusnetworks.pool.ntp.org iburst
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 43.8131%; width: 35.9477%; height: 1.76768%;">server 3.cumulusnetworks.pool.ntp.org iburst
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 47.8535%; width: 77.1242%; height: 1.76768%;">After modifying the servers for NTP to use, restart the NTP daemon to read in the new changes to the configuration file. This
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 49.495%; width: 43.3007%; height: 1.64141%;">can be performed with the sudo service ntp restart command.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 52.0202%; width: 34.3137%; height: 1.76768%;">cumulus@leaf01:~$ sudo service ntp restart
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 53.6616%; width: 26.634%; height: 1.76768%;">[ ok ] Stopping NTP server: ntpd.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 55.303%; width: 26.634%; height: 1.64141%;">[ ok ] Starting NTP server: ntpd.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 56.8182%; width: 14.8693%; height: 1.76768%;">cumulus@leaf01:~$
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 62.3737%; width: 21.0784%; height: 2.0202%;">2. Configure Leaf Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 64.899%; width: 34.9673%; height: 1.64141%;">x Configure each switch in the MLAG pair individually
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 66.2879%; width: 25.1634%; height: 1.64141%;">x Create peer link bond between pair
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 67.6768%; width: 30.719%; height: 1.64141%;">x Enable MLAG peering between leaf switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 70.4545%; width: 14.3791%; height: 1.64141%;">Configure Each Switch
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 72.7273%; width: 69.4444%; height: 1.76768%;">By default, a switch with Cumulus Linux freshly installed has no switch port interfaces defined. Define the basic
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 74.2424%; width: 60.4575%; height: 1.76768%;">characteristics of swp1 through swpN by creating stanza entries for each switch port (swp) in the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 75.8838%; width: 48.366%; height: 1.76768%;">/etc/network/interfaces file. Required statements include the following:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 78.4091%; width: 18.9542%; height: 1.76768%;">auto &lt;switch port name&gt;
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 80.0505%; width: 19.7712%; height: 1.76768%;">iface &lt;switch port name&gt;
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 82.5758%; width: 53.5948%; height: 1.64141%;">An MTU setting of 9216 is recommended to avoid packet fragmentation. For example:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 84.8485%; width: 38.2353%; height: 1.76768%;">cumulus@leaf01$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 88.0051%; width: 27.7778%; height: 1.76768%;"># physical interface configuration
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/c22f192e-db64-4319-b654-b01c8d675a69" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 18 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNHhi2EH5EKUlU5ACCbhYCimgSJ94w&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a><a href="https://docs.cumulusnetworks.com/display/DOCS/Configuring+Switch+Port+Attributes" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://docs.cumulusnetworks.com/display/DOCS/Configuring+Switch+Port+Attributes" data-saferedirecturl="https://www.google.com/url?q=https://docs.cumulusnetworks.com/display/DOCS/Configuring%2BSwitch%2BPort%2BAttributes&amp;ust=1540059960000000&amp;usg=AFQjCNGCedeCQ8uLcX3hzZrBHDSNoXPONw&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 41.5404%; width: 20.098%; height: 2.65152%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 19 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">IMPLEMENTING A LAYER 2 DATA CENTER NETWORK WITH CUMULUS LINUX
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 77.7778%; height: 1.13636%;">www.cumulusnetworks.com 19
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 11.7424%; width: 7.51634%; height: 1.76768%;">auto swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 13.3838%; width: 8.33333%; height: 1.76768%;">iface swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 15.0253%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 18.1818%; width: 7.51634%; height: 1.76768%;">auto swp2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 19.8232%; width: 8.33333%; height: 1.64141%;">iface swp2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 21.3384%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 24.6212%; width: 7.51634%; height: 1.64141%;">auto swp3
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 26.1364%; width: 8.33333%; height: 1.76768%;">iface swp3
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 27.7778%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 30.303%; width: 0.816994%; height: 0.631313%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 31.9444%; width: 0.816994%; height: 0.505051%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 33.4596%; width: 0.816994%; height: 0.631313%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 34.0909%; width: 8.33333%; height: 1.76768%;">auto swp52
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 35.7323%; width: 9.15033%; height: 1.76768%;">iface swp52
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 37.3737%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.4379%; top: 39.7727%; width: 76.3072%; height: 1.76768%;">You can set additional attributes, such as speed and duplex. Refer to the Configuring Switch Port Attributes chapter of the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 41.2879%; width: 32.6797%; height: 1.64141%;">Cumulus Linux documentation for more information.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 43.6869%; width: 23.5294%; height: 1.64141%;">Configure all leaf switches identically.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 45.9596%; width: 76.634%; height: 1.76768%;">Instead of manually configuring each interface definition, you can programmatically define them by using shorthand syntax
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 47.4747%; width: 69.9346%; height: 1.76768%;">that leverages Python Mako templates. Refer to the Automation Considerations chapter found later in this guide.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 49.8737%; width: 75.9804%; height: 1.64141%;">Once all configurations have been defined in the /etc/network/interfaces file, run the ifquery command to ensure
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 51.3889%; width: 41.9935%; height: 1.76768%;">that all syntax is proper and the interfaces are created as expected:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 53.9141%; width: 21.4052%; height: 1.76768%;">cumulus@leaf01$ ifquery -a
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 57.197%; width: 6.04575%; height: 1.51515%;">auto lo
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 58.7121%; width: 18.1373%; height: 1.76768%;">iface lo inet loopback
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 61.995%; width: 7.67974%; height: 1.51515%;">auto eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 63.5101%; width: 8.33333%; height: 1.51515%;">iface eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 65.1515%; width: 22.2222%; height: 1.64141%;">address 192.168.0.90/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 66.7929%; width: 20.5882%; height: 1.76768%;">gateway 192.168.0.254
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 69.9495%; width: 7.51634%; height: 1.76768%;">auto swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 71.5909%; width: 8.33333%; height: 1.64141%;">iface swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 73.1061%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 75.7576%; width: 0.816994%; height: 0.505051%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 77.2727%; width: 0.816994%; height: 0.631313%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 78.9141%; width: 0.816994%; height: 0.505051%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 80.4293%; width: 76.7974%; height: 1.76768%;">Once all configurations have been defined in the /etc/network/interfaces file, apply the configurations to ensure they
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 81.9444%; width: 74.3464%; height: 1.76768%;">are loaded into the kernel. There are several methods for applying configuration changes depending on when and what
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 83.5859%; width: 16.9935%; height: 1.64141%;">changes you want to apply.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/3f880d81-a1ea-42ef-b55f-4cb268acac40" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 19 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="https://docs.cumulusnetworks.com/display/DOCS/Multi-Chassis+Link+Aggregation+-+MLAG" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://docs.cumulusnetworks.com/display/DOCS/Multi-Chassis+Link+Aggregation+-+MLAG" data-saferedirecturl="https://www.google.com/url?q=https://docs.cumulusnetworks.com/display/DOCS/Multi-Chassis%2BLink%2BAggregation%2B-%2BMLAG&amp;ust=1540059960000000&amp;usg=AFQjCNHi7erpbpTJa1G2ZYXOCjZutIUnaA&amp;hl=en" rel="noreferrer" style="left: 68.4641%; top: 61.6162%; width: 20.4248%; height: 1.89394%;"></a><a href="https://docs.cumulusnetworks.com/display/DOCS/Multi-Chassis+Link+Aggregation+-+MLAG" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="https://docs.cumulusnetworks.com/display/DOCS/Multi-Chassis+Link+Aggregation+-+MLAG" data-saferedirecturl="https://www.google.com/url?q=https://docs.cumulusnetworks.com/display/DOCS/Multi-Chassis%2BLink%2BAggregation%2B-%2BMLAG&amp;ust=1540059960000000&amp;usg=AFQjCNHi7erpbpTJa1G2ZYXOCjZutIUnaA&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 63.1313%; width: 10.6209%; height: 2.65152%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 20 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">20
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 9.97475%; width: 31.3726%; height: 1.13636%;">Command Action
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.5%; width: 75.9804%; height: 1.64141%;">sudo ifreload -a Parse interfaces labeled with auto that have been added to or modified in the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.7255%; top: 13.7626%; width: 30.8824%; height: 1.76768%;">configuration file, and apply changes accordingly.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.8889%; top: 15.7828%; width: 48.0392%; height: 1.76768%;">Note: This command is disruptive to traffic only on interfaces that have been
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.8889%; top: 17.4242%; width: 6.04575%; height: 1.13636%;">modified.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 19.9495%; width: 73.8562%; height: 1.89394%;">sudo service networking restart Restart all interfaces labeled with auto as defined in the configuration file,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.8889%; top: 21.2121%; width: 35.7843%; height: 1.76768%;">regardless of what has or has not been recently modified.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.8889%; top: 23.3586%; width: 48.8562%; height: 1.64141%;">Note: This command is disruptive to all traffic on the switch including the eth0
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.8889%; top: 24.6212%; width: 14.2157%; height: 1.76768%;">management network.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 27.5253%; width: 75.9804%; height: 1.76768%;">sudo ifup &lt;swpX&gt; Parse an individual interface labeled with auto as defined in the configuration
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.7255%; top: 28.7879%; width: 22.0588%; height: 1.76768%;">file and apply changes accordingly.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 38.8889%; top: 30.8081%; width: 41.0131%; height: 1.76768%;">Note: This command is disruptive to traffic only on interface swpX.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 35.2273%; width: 15.0327%; height: 1.76768%;">For example, on leaf01:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 37.8788%; width: 27.7778%; height: 1.76768%;">cumulus@leaf01:~$ sudo ifreload -a
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 40.2778%; width: 9.15033%; height: 1.76768%;">or individually:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 42.9293%; width: 26.1438%; height: 1.76768%;">cumulus@leaf01:~$ sudo ifup swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 44.4444%; width: 26.1438%; height: 1.76768%;">cumulus@leaf01:~$ sudo ifup swp2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 46.9697%; width: 0.816994%; height: 0.631313%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 48.6111%; width: 0.816994%; height: 0.631313%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 50.2525%; width: 0.816994%; height: 0.505051%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 50.8838%; width: 26.9608%; height: 1.76768%;">cumulus@leaf01:~$ sudo ifup swp52
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 54.6717%; width: 26.1438%; height: 1.51515%;">Create Peer Link Bond between Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 55.9343%; width: 76.7974%; height: 1.76768%;">Next, create a peer link bond on both switches by editing /etc/network/interfaces and placing the bond configuration
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 57.5758%; width: 62.7451%; height: 1.64141%;">after the swpN interfaces. Configure the peer link bond identically on both switches in the MLAG pair.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 59.8485%; width: 76.3072%; height: 1.64141%;">For example, add the following peerlink stanza on leaf01 with bond members swp47 and swp48. The configuration will be
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 61.3636%; width: 67.1569%; height: 1.76768%;">identical on leaf02. For more information on bond settings, refer to the MLAG chapter in the Cumulus Linux
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 63.2576%; width: 10.1307%; height: 1.13636%;">documentation.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 65.5303%; width: 38.2353%; height: 1.64141%;">cumulus@leaf01$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 68.6869%; width: 19.7712%; height: 1.76768%;"># peerlink bond for clag
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 71.8434%; width: 10.7843%; height: 1.76768%;">auto peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 73.4849%; width: 11.6013%; height: 1.76768%;">iface peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 75.1263%; width: 22.2222%; height: 1.64141%;">bond-slaves swp47 swp48
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 76.6414%; width: 17.3203%; height: 1.51515%;">bond-mode 802.3ad
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 78.2828%; width: 15.6863%; height: 1.51515%;">bond-miimon 100
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 79.9242%; width: 18.1373%; height: 1.51515%;">bond-use-carrier 1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 81.4394%; width: 16.5033%; height: 1.76768%;">bond-lacp-rate 1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 83.0808%; width: 16.5033%; height: 1.51515%;">bond-min-links 1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 84.596%; width: 27.7778%; height: 1.76768%;">bond-xmit-hash-policy layer3+4
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/f085381a-9ff3-483f-85c0-d3551fd40f0e" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 20 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNHhi2EH5EKUlU5ACCbhYCimgSJ94w&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 21 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">IMPLEMENTING A LAYER 2 DATA CENTER NETWORK WITH CUMULUS LINUX
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 77.7778%; height: 1.13636%;">www.cumulusnetworks.com 21
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 9.97475%; width: 25.6536%; height: 1.64141%;">Enable MLAG Peering between Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.2475%; width: 74.183%; height: 1.76768%;">An instance of the clagd daemon runs on each MLAG switch member to keep track of various networking information,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 13.8889%; width: 76.9608%; height: 1.64141%;">including MAC addresses, needed to maintain the peer relationship. clagd communicates with its peer on the other switch
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 15.404%; width: 77.1242%; height: 1.76768%;">across a layer 3 interface between the two switches. This layer 3 network should not be advertised by routing protocols, nor
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 16.9192%; width: 74.6732%; height: 1.76768%;">should the VLAN be trunked anywhere else in the network. This interface is designed to be a keep-alive reachability test
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 18.5606%; width: 48.2026%; height: 1.64141%;">and for synchronizing the switch state across the directly attached peer bond.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 20.8333%; width: 76.4706%; height: 1.76768%;">Create the VLAN subinterface for clagd communication and assign an IP address for this subinterface. A unique .1q tag is
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 22.4747%; width: 44.9346%; height: 1.76768%;">recommended to avoid mixing data traffic with the clagd control traffic.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 24.7475%; width: 71.2418%; height: 1.76768%;">To enable MLAG peering between switches, configure clagd on each switch by creating a peerlink subinterface in
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 26.3889%; width: 69.6078%; height: 1.76768%;">/etc/network/interfaces with a unique .1q tag. Set values for the following parameters under the peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 28.2828%; width: 8.49673%; height: 1.13636%;">subinterface:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 30.4293%; width: 40.1961%; height: 1.64141%;">• address. The local IP address/netmask of this peer switch.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 20.4248%; top: 31.9444%; width: 47.549%; height: 1.76768%;">o Recommended to use a link local address for example 169.254.1.X/30
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 33.5859%; width: 25.817%; height: 1.76768%;">• clagd-enable. Set to yes (default)
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 35.3535%; width: 58.4967%; height: 1.76768%;">• clagd-peer-ip. Set to the IP address assigned to the peer interface on the peer switch.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 36.995%; width: 66.1765%; height: 1.76768%;">• clagd-backup-ip Set to an IP address on the peer switch reachable independently of the peer link.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 20.4248%; top: 38.6364%; width: 63.7255%; height: 1.64141%;">o For example, the management interface or a routed interface that does not traverse the peer link.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 40.2778%; width: 53.4314%; height: 1.76768%;">• clagd-sys-mac. Set to a unique MAC address you assign to both peer switches.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 20.4248%; top: 41.7929%; width: 60.2941%; height: 1.76768%;">o Recommended within the Cumulus Networks reserved range of 44:38:39:FF:00:00 through
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 23.366%; top: 43.6869%; width: 12.2549%; height: 1.26263%;">44:38:39:FF:FF:FF.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 45.7071%; width: 32.8431%; height: 1.64141%;">For example, configure leaf01 and leaf02 as follows:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 48.2323%; width: 38.2353%; height: 1.76768%;">cumulus@leaf01$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 51.5152%; width: 24.5098%; height: 1.64141%;"># VLAN for clagd communication
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 54.6717%; width: 14.8693%; height: 1.76768%;">auto peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 56.1869%; width: 15.6863%; height: 1.76768%;">iface peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 57.8283%; width: 21.4052%; height: 1.64141%;">address 169.254.1.1/30
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 59.4697%; width: 16.5033%; height: 1.76768%;">clagd-enable yes
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 60.9848%; width: 23.6928%; height: 1.76768%;">clagd-peer-ip 169.254.1.2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 62.6263%; width: 28.5948%; height: 1.76768%;">clagd-backup-ip 192.168.0.91/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 64.2677%; width: 28.5948%; height: 1.76768%;">clagd-sys-mac 44:38:39:ff:40:94
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 67.4242%; width: 38.2353%; height: 1.76768%;">cumulus@leaf02$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 70.5808%; width: 24.5098%; height: 1.76768%;"># VLAN for clagd communication
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 73.8636%; width: 14.8693%; height: 1.64141%;">auto peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 75.3788%; width: 15.6863%; height: 1.76768%;">iface peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 77.0202%; width: 21.4052%; height: 1.64141%;">address 169.254.1.2/30
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 78.5354%; width: 16.5033%; height: 1.76768%;">clagd-enable yes
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 80.1768%; width: 23.6928%; height: 1.76768%;">clagd-peer-ip 169.254.1.1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 81.8182%; width: 28.5948%; height: 1.76768%;">clagd-backup-ip 192.168.0.90/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 83.3333%; width: 28.5948%; height: 1.76768%;">clagd-sys-mac 44:38:39:ff:40:94
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 85.8586%; width: 77.1242%; height: 1.76768%;">Note: MLAG can use any valid IP address pair for communication; however, we suggest using values from the IPv4 link local
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 87.3737%; width: 68.6275%; height: 1.76768%;">range defined by 169.254.0.0/16. These addresses are not exported by routing protocols and, since the peer
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 88.8889%; width: 68.7909%; height: 1.76768%;">communication VLAN is local to this peer link, the same IP address pairs can be used on all MLAG switch pairs.
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/a0379189-9524-4655-aed0-c0bf05e5cefc" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 21 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 22 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">22
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 8.71212%; width: 75.6536%; height: 1.76768%;">Because MTU configurations on a subinterface are inherited from the parent interface and the parent interface (peerlink)
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 10.2273%; width: 62.0915%; height: 1.76768%;">was previously defined with the MTU setting, there is no need to set MTU in the subinterface stanza.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 12.6263%; width: 54.085%; height: 1.76768%;">Reload the network configuration for the MLAG changes to be applied and start clagd:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 14.899%; width: 6.86275%; height: 1.51515%;">On leaf01:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 17.5505%; width: 27.7778%; height: 1.64141%;">cumulus@leaf01:~$ sudo ifreload -a
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 19.9495%; width: 6.86275%; height: 1.51515%;">On leaf02:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 22.601%; width: 27.7778%; height: 1.64141%;">cumulus@leaf02:~$ sudo ifreload -a
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 25%; width: 62.5817%; height: 1.76768%;">or individually restart just the peerlink and subinterface to apply the MLAG changes and start clagd:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 27.399%; width: 6.86275%; height: 1.51515%;">On leaf01:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 29.9242%; width: 29.4118%; height: 1.76768%;">cumulus@leaf01:~$ sudo ifup peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 31.5657%; width: 33.4967%; height: 1.76768%;">cumulus@leaf01:~$ sudo ifup peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 33.9646%; width: 6.86275%; height: 1.51515%;">On leaf02:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 36.6162%; width: 29.4118%; height: 1.64141%;">cumulus@leaf02:~$ sudo ifup peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 38.1313%; width: 33.4967%; height: 1.76768%;">cumulus@leaf02:~$ sudo ifup peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 40.6566%; width: 75.6536%; height: 1.76768%;">Once clagd is configured under the peerlink subinterface, it will automatically start when the system is booted. Once the
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 42.1717%; width: 63.0719%; height: 1.76768%;">interfaces have been started, verify the interfaces are up and have the proper IP addresses assigned.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 44.8232%; width: 35.9477%; height: 1.76768%;">cumulus@leaf01:~$ ip addr show peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 46.3384%; width: 69.9346%; height: 1.76768%;">115: peerlink.4094@peerlink: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 9216 qdisc noqueue
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 47.9798%; width: 6.86275%; height: 1.51515%;">state UP
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 49.6212%; width: 43.9542%; height: 1.64141%;">link/ether c4:54:44:9f:49:1e brd ff:ff:ff:ff:ff:ff
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 51.1364%; width: 40.8497%; height: 1.76768%;">inet 169.254.1.1/30 scope global peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 52.7778%; width: 40.0327%; height: 1.76768%;">inet6 fe80::7272:cfff:fe9d:4e64/64 scope link
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 54.4192%; width: 37.5817%; height: 1.64141%;">valid_lft forever preferred_lft forever
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 57.5758%; width: 34.3137%; height: 1.76768%;">cumulus@leaf02$ ip addr show peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 59.2172%; width: 69.9346%; height: 1.64141%;">105: peerlink.4094@peerlink: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 9216 qdisc noqueue
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 60.7323%; width: 6.86275%; height: 1.51515%;">state UP
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 62.3737%; width: 43.9542%; height: 1.64141%;">link/ether c4:54:44:bd:00:20 brd ff:ff:ff:ff:ff:ff
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 64.0152%; width: 40.8497%; height: 1.64141%;">inet 169.254.1.2/30 scope global peerlink.4094
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 65.5303%; width: 40.0327%; height: 1.76768%;">inet6 fe80::c654:44ff:fe9f:491e/64 scope link
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 67.1717%; width: 37.5817%; height: 1.76768%;">valid_lft forever preferred_lft forever
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 69.5707%; width: 75.1634%; height: 1.76768%;">Next, verify connectivity between the switches by issuing a ping to the backup IP address and across the peer bond from
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 71.2121%; width: 74.5098%; height: 1.64141%;">each switch to its peer switch. For example, from leaf01 you should be able to ping the clagd subinterface’s backup IP
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 72.7273%; width: 40.6863%; height: 1.64141%;">address, 192.168.0.91, and IP address, 169.254.1.2, on leaf02.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 75.3788%; width: 26.9608%; height: 1.64141%;">cumulus@leaf01$ ping 192.168.0.91
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 76.8939%; width: 43.7909%; height: 1.76768%;">PING 192.168.0.91 (192.168.0.91) 56(84) bytes of data.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 78.5354%; width: 48.0392%; height: 1.76768%;">64 bytes from 192.168.0.91: icmp_req=1 ttl=64 time=0.258 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 80.1768%; width: 48.0392%; height: 1.64141%;">64 bytes from 192.168.0.91: icmp_req=2 ttl=64 time=0.210 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 81.6919%; width: 29.085%; height: 1.76768%;">--- 192.168.0.91 ping statistics ---
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 83.3333%; width: 50.4902%; height: 1.76768%;">2 packets transmitted, 2 received, 0% packet loss, time 1000ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 84.9748%; width: 39.8693%; height: 1.64141%;">rtt min/avg/max/mdev = 0.210/0.234/0.258/0.024 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 88.1313%; width: 27.7778%; height: 1.76768%;">cumulus@leaf01:~$ ping 169.254.1.2
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/3325ca75-feff-40a1-a4b5-a6ad73c95d8c" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 22 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNHhi2EH5EKUlU5ACCbhYCimgSJ94w&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 23 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">IMPLEMENTING A LAYER 2 DATA CENTER NETWORK WITH CUMULUS LINUX
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 77.7778%; height: 1.13636%;">www.cumulusnetworks.com 23
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 10.2273%; width: 42.1569%; height: 1.76768%;">PING 169.254.1.2 (169.254.1.2) 56(84) bytes of data.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 11.7424%; width: 47.2222%; height: 1.76768%;">64 bytes from 169.254.1.2: icmp_req=1 ttl=64 time=0.798 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 13.3838%; width: 47.2222%; height: 1.76768%;">64 bytes from 169.254.1.2: icmp_req=2 ttl=64 time=0.554 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 15.0253%; width: 28.4314%; height: 1.64141%;">--- 169.254.1.2 ping statistics ---
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 16.5404%; width: 50.4902%; height: 1.76768%;">2 packets transmitted, 2 received, 0% packet loss, time 1000ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 18.1818%; width: 39.8693%; height: 1.76768%;">rtt min/avg/max/mdev = 0.554/0.676/0.798/0.122 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 20.7071%; width: 75.4902%; height: 1.64141%;">Likewise, from leaf02 you should be able to ping the backup IP address and the IP address of the clagd subinterface on
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 22.2222%; width: 25.4902%; height: 1.64141%;">leaf01, 192.168.0.90 and 169.254.1.1.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 24.495%; width: 73.0392%; height: 1.76768%;">Verify MLAG port channel operation and the peer roles have been established. In the example below, switch leaf01 is
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 26.0101%; width: 76.634%; height: 1.76768%;">operating as the primary peer switch while leaf02 is the secondary peer switch. By default, priority values for both switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 27.6515%; width: 74.8366%; height: 1.64141%;">are equal and set to 32768. The switch with the lower MAC address is given the primary role in the event of a priority tie.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 30.1768%; width: 18.9542%; height: 1.76768%;">cumulus@leaf01$ clagctl
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 31.8182%; width: 14.0523%; height: 1.76768%;">The peer is alive
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 33.4596%; width: 52.1242%; height: 1.64141%;">Our Priority, ID, and Role: 32768 c4:54:44:9f:49:1e primary
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 34.9747%; width: 53.7582%; height: 1.76768%;">Peer Priority, ID, and Role: 32768 c4:54:44:bd:00:20 secondary
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 36.6162%; width: 47.2222%; height: 1.76768%;">Peer Interface and IP: peerlink.4094 169.254.1.2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 38.2576%; width: 43.7909%; height: 1.64141%;">Backup IP: 192.168.0.91 (active)
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 39.7727%; width: 40.8497%; height: 1.76768%;">System MAC: 44:38:39:ff:40:94
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 42.298%; width: 73.6928%; height: 1.64141%;">When an MLAG-enabled switch is in the secondary role, it does not send BPDUs on dual-connected links; it only sends
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 43.8131%; width: 75%; height: 1.64141%;">BPDUs on single-connected links. Also, in case the peer switch is determined to be not alive, the switch in the secondary
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 45.3283%; width: 76.3072%; height: 1.76768%;">role will roll back the link MAC address to be the bond interface MAC address instead of the clagd-sys-mac. By contrast,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 46.9697%; width: 73.366%; height: 1.64141%;">the switch in the primary role always uses the clagd-sys-mac and sends BPDUs on all single- and dual-connected links.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 49.2424%; width: 76.634%; height: 1.76768%;">The role of primary vs. secondary peer switch becomes important to consider when restarting switches. If a secondary peer
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 50.7576%; width: 75.6536%; height: 1.76768%;">switch is restarted, the LACP system ID remains the same. However, if a primary peer switch is restarted, the LACP system
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 52.2727%; width: 24.6732%; height: 1.76768%;">ID will change, which can be disruptive.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 54.6717%; width: 75.9804%; height: 1.64141%;">Changing the priority does not cause a traffic interruption but will take a few seconds to switch over while the switch waits
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 56.1869%; width: 15.6863%; height: 1.64141%;">for the next peer update.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 58.4596%; width: 70.7516%; height: 1.76768%;">To change the priority for leaf02 so that it becomes the primary and leaf01 becomes secondary, use the clagctl
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 60.101%; width: 25.9804%; height: 1.76768%;">command with the priority parameter:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 62.7525%; width: 34.3137%; height: 1.76768%;">cumulus@leaf02$ sudo clagctl priority 4096
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 64.2677%; width: 18.9542%; height: 1.76768%;">cumulus@leaf02$ clagctl
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 65.9091%; width: 14.0523%; height: 1.76768%;">The peer is alive
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 67.5505%; width: 51.3072%; height: 1.64141%;">Our Priority, ID, and Role: 4096 c4:54:44:bd:00:20 primary
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 69.0657%; width: 53.7582%; height: 1.76768%;">Peer Priority, ID, and Role: 32768 c4:54:44:9f:49:1e secondary
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 70.7071%; width: 47.2222%; height: 1.76768%;">Peer Interface and IP: peerlink.4094 169.254.1.1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 72.3485%; width: 43.7909%; height: 1.64141%;">Backup IP: 192.168.0.90 (active)
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 73.8636%; width: 40.8497%; height: 1.76768%;">System MAC: 44:38:39:ff:40:94
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 35.1307%; top: 76.2626%; width: 0.816994%; height: 1.76768%;">
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/a43ed746-92f1-4e2d-ba1b-e740ae2c574b" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 23 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 24 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 8.71212%; width: 22.2222%; height: 2.0202%;">3. Configure Spine Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 11.2374%; width: 28.4314%; height: 1.64141%;">• Configure each switch in pair individually
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 12.8788%; width: 25.1634%; height: 1.64141%;">• Create peer link bond between pair
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 14.5202%; width: 31.8627%; height: 1.64141%;">• Enable MLAG peering between spine switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 17.5505%; width: 14.3791%; height: 1.76768%;">Configure Each Switch
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 19.8232%; width: 73.6928%; height: 1.76768%;">As in the case of the leaf switches, define all the switch ports on your spine switches that will be in use. A typical spine
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 21.4646%; width: 74.6732%; height: 1.64141%;">switch that is fully populated has swp1 through 32 defined. Define a port by creating stanza entries for each switch port
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 22.9798%; width: 37.4183%; height: 1.64141%;">(swp) in the /etc/network/interfaces file. For example:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 25.6313%; width: 39.0523%; height: 1.64141%;">cumulus@spine01$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 28.7879%; width: 27.7778%; height: 1.76768%;"># physical interface configuration
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 31.9444%; width: 7.51634%; height: 1.76768%;">auto swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 33.5859%; width: 8.33333%; height: 1.76768%;">iface swp1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 35.2273%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 38.3838%; width: 7.51634%; height: 1.76768%;">auto swp2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 40.0253%; width: 8.33333%; height: 1.64141%;">iface swp2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 41.5404%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 44.697%; width: 7.51634%; height: 1.76768%;">auto swp3
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 46.3384%; width: 8.33333%; height: 1.76768%;">iface swp3
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 47.9798%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 50.505%; width: 0.816994%; height: 0.505051%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 52.1465%; width: 0.816994%; height: 0.505051%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 53.6616%; width: 0.816994%; height: 0.631313%;">.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 54.2929%; width: 8.33333%; height: 1.76768%;">auto swp32
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 55.9343%; width: 9.15033%; height: 1.76768%;">iface swp32
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 57.5758%; width: 9.96732%; height: 1.51515%;">mtu 9216
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 59.9747%; width: 25.817%; height: 1.76768%;">Configure both spine switches identically.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 62.2475%; width: 76.634%; height: 1.76768%;">Instead of manually configuring each interface definition, you can programmatically define them by using shorthand syntax
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 63.8889%; width: 69.9346%; height: 1.64141%;">that leverages Python Mako templates. Refer to the Automation Considerations chapter found later in this guide.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 66.1616%; width: 27.2876%; height: 1.64141%;">As you did previously with the leaf switches,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 68.5606%; width: 60.6209%; height: 1.76768%;">• Use sudo ifquery -a to verify all interfaces were properly defined in the configuration file.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 14.5425%; top: 70.202%; width: 58.9869%; height: 1.76768%;">• Bring up the interfaces using sudo ifreload -a or individually using sudo ifup swpN.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 73.3586%; width: 26.1438%; height: 1.51515%;">Create Peer Link Bond between Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 75.6313%; width: 75.3268%; height: 1.76768%;">Next, create a peer link bond on both spine switches in the same manner as previously done for the leaf switch pairs. Do
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 77.2727%; width: 71.2418%; height: 1.64141%;">this by editing the /etc/network/interfaces file and placing the bond configuration after the swpN interfaces.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 78.7879%; width: 75.4902%; height: 1.76768%;">Configure the peer link bond identically on both switches in the MLAG pair. Add the following peerlink stanza on spine01,
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 80.303%; width: 55.719%; height: 1.76768%;">with swp31 and swp32 for bond members. The configuration will be identical on spine02.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 82.9545%; width: 39.0523%; height: 1.64141%;">cumulus@spine01$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 86.1111%; width: 19.7712%; height: 1.76768%;"># peerlink bond for clag
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/75d6e9e9-1771-4735-b2bb-cd4ae73c0690" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 24 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "><a href="http://www.cumulusnetworks.com/" target="_blank" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-hSRGPd" tabindex="0" role="link" aria-label="http://www.cumulusnetworks.com/" data-saferedirecturl="https://www.google.com/url?q=http://www.cumulusnetworks.com/&amp;ust=1540059960000000&amp;usg=AFQjCNHhi2EH5EKUlU5ACCbhYCimgSJ94w&amp;hl=en" rel="noreferrer" style="left: 11.1111%; top: 93.1818%; width: 18.4641%; height: 2.39899%;"></a></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 25 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 83.1699%; height: 1.38889%;">IMPLEMENTING A LAYER 2 DATA CENTER NETWORK WITH CUMULUS LINUX
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 77.7778%; height: 1.13636%;">www.cumulusnetworks.com 25
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 10.4798%; width: 10.7843%; height: 1.51515%;">auto peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 11.7424%; width: 11.6013%; height: 1.76768%;">iface peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 13.3838%; width: 22.2222%; height: 1.76768%;">bond-slaves swp31 swp32
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 15.0253%; width: 17.3203%; height: 1.51515%;">bond-mode 802.3ad
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 16.5404%; width: 15.6863%; height: 1.51515%;">bond-miimon 100
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 18.1818%; width: 18.1373%; height: 1.51515%;">bond-use-carrier 1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 19.8232%; width: 16.5033%; height: 1.64141%;">bond-lacp-rate 1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 21.3384%; width: 16.5033%; height: 1.51515%;">bond-min-links 1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 22.9798%; width: 27.7778%; height: 1.76768%;">bond-xmit-hash-policy layer3+4
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 26.1364%; width: 25.6536%; height: 1.76768%;">Enable MLAG Peering between Switches
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 28.5354%; width: 69.9346%; height: 1.76768%;">To enable MLAG peering between switches, you configure the clagd daemon by adding the MLAG configuration
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 30.0505%; width: 55.5556%; height: 1.76768%;">parameters under the subinterface similarly as previously configured in the leaf switches.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 32.702%; width: 39.0523%; height: 1.76768%;">cumulus@spine01$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 35.8586%; width: 24.5098%; height: 1.76768%;"># VLAN for clagd communication
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 39.0152%; width: 14.8693%; height: 1.76768%;">auto peerlink.4093
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 40.6566%; width: 15.6863%; height: 1.76768%;">iface peerlink.4093
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 42.298%; width: 21.4052%; height: 1.51515%;">address 169.254.1.1/30
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 43.8131%; width: 16.5033%; height: 1.76768%;">clagd-enable yes
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 45.4545%; width: 23.6928%; height: 1.76768%;">clagd-peer-ip 169.254.1.2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 46.9697%; width: 28.5948%; height: 1.76768%;">clagd-backup-ip 192.168.0.95/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 48.6111%; width: 28.5948%; height: 1.76768%;">clagd-sys-mac 44:38:39:ff:40:93
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 51.8939%; width: 39.0523%; height: 1.64141%;">cumulus@spine02$ sudo vi /etc/network/interfaces
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 55.0505%; width: 24.5098%; height: 1.76768%;"># VLAN for clagd communication
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 58.2071%; width: 14.8693%; height: 1.76768%;">auto peerlink.4093
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 59.8485%; width: 15.6863%; height: 1.76768%;">iface peerlink.4093
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 61.3636%; width: 21.4052%; height: 1.64141%;">address 169.254.1.2/30
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 63.005%; width: 16.5033%; height: 1.76768%;">clagd-enable yes
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 64.6465%; width: 23.6928%; height: 1.76768%;">clagd-peer-ip 169.254.1.1
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 66.1616%; width: 28.5948%; height: 1.76768%;">clagd-backup-ip 192.168.0.94/24
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 67.803%; width: 28.5948%; height: 1.76768%;">clagd-sys-mac 44:38:39:ff:40:93
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 70.202%; width: 75%; height: 1.76768%;">We are using .4093 for the peerlink communication between spine01 and spine02 in contrast to .4094 between leaf01
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 71.8434%; width: 71.5686%; height: 1.64141%;">and leaf02. Using different VLAN IDs for different peerlink communication links avoids the potential for creating an
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 73.3586%; width: 9.96732%; height: 1.64141%;">undesired loop.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 75.6313%; width: 57.3529%; height: 1.76768%;">Next, reload the network configuration for the MLAG changes to be applied and start clagd:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 78.0303%; width: 7.84314%; height: 1.64141%;">On spine01:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 80.5556%; width: 28.5948%; height: 1.76768%;">cumulus@spine01:~$ sudo ifreload -a
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 83.0808%; width: 7.84314%; height: 1.64141%;">On spine02:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 85.6061%; width: 28.5948%; height: 1.76768%;">cumulus@spine02:~$ sudo ifreload -a
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/bbc92bd9-8a28-4f98-adf5-48cc9f2f3045" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 25 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"><h2 class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-tJHJj" tabindex="0">Page 26 of 63</h2><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 5.71895%; top: 4.16667%; width: 46.4052%; height: 1.38889%;">DATA CENTER LAYER 2 HIGH AVAILABILITY: VALIDATED DESIGN GUIDE
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 93.4344%; width: 2.12418%; height: 1.13636%;">26
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 8.71212%; width: 62.5817%; height: 1.76768%;">or individually restart just the peerlink and subinterface to apply the MLAG changes and start clagd:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 11.1111%; width: 7.84314%; height: 1.64141%;">On spine01:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 13.6364%; width: 30.2288%; height: 1.76768%;">cumulus@spine01:~$ sudo ifup peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 15.2778%; width: 34.3137%; height: 1.64141%;">cumulus@spine01:~$ sudo ifup peerlink.4093
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 17.6768%; width: 7.84314%; height: 1.76768%;">On spine02:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 20.3283%; width: 30.2288%; height: 1.64141%;">cumulus@spine02:~$ sudo ifup peerlink
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 21.8434%; width: 34.3137%; height: 1.76768%;">cumulus@spine02:~$ sudo ifup peerlink.4093
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 24.3687%; width: 71.732%; height: 1.64141%;">Once the interfaces have been started, verify the interfaces are up and have the proper IP addresses assigned. For
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 25.8838%; width: 13.7255%; height: 1.64141%;">example, on spine01:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 28.4091%; width: 35.1307%; height: 1.76768%;">cumulus@spine01$ ip addr show peerlink.4093
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 30.0505%; width: 69.1176%; height: 1.76768%;">36: peerlink.4093@peerlink: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 9216 qdisc noqueue
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 31.6919%; width: 6.86275%; height: 1.51515%;">state UP
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 33.2071%; width: 43.9542%; height: 1.64141%;">link/ether c4:54:44:72:cf:ad brd ff:ff:ff:ff:ff:ff
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 34.8485%; width: 40.6863%; height: 1.76768%;">inet 169.254.1.1/30 scope global peerlink.4093
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 36.4899%; width: 40.0327%; height: 1.64141%;">inet6 fe80::c654:44ff:fe72:cfad/64 scope link
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 38.0051%; width: 37.5817%; height: 1.76768%;">valid_lft forever preferred_lft forever
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 40.5303%; width: 75.4902%; height: 1.64141%;">Next, verify connectivity between the switches by issuing a ping across the peer bond from each switch to its peer switch.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 42.0455%; width: 76.1438%; height: 1.76768%;">For example, from spine01 you should be able to ping the clagd subinterface’s backup IP address, 192.168.0.95, and IP
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 43.6869%; width: 22.0588%; height: 1.64141%;">address, 169.254.1.2, on spine02.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 46.2121%; width: 27.7778%; height: 1.76768%;">cumulus@spine01$ ping 192.168.0.95
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 47.8535%; width: 43.7909%; height: 1.76768%;">PING 192.168.0.95 (192.168.0.95) 56(84) bytes of data.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 49.3687%; width: 48.0392%; height: 1.76768%;">64 bytes from 192.168.0.95: icmp_req=1 ttl=64 time=0.277 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 51.0101%; width: 48.0392%; height: 1.76768%;">64 bytes from 192.168.0.95: icmp_req=2 ttl=64 time=0.300 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 52.6515%; width: 29.085%; height: 1.64141%;">--- 192.168.0.95 ping statistics ---
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 54.1667%; width: 49.6732%; height: 1.76768%;">2 packets transmitted, 2 received, 0% packet loss, time 999ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 55.8081%; width: 39.8693%; height: 1.76768%;">rtt min/avg/max/mdev = 0.277/0.288/0.300/0.020 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 58.9646%; width: 28.5948%; height: 1.76768%;">cumulus@spine01:~$ ping 169.254.1.2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 60.6061%; width: 42.1569%; height: 1.76768%;">PING 169.254.1.2 (169.254.1.2) 56(84) bytes of data.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 62.2475%; width: 47.2222%; height: 1.64141%;">64 bytes from 169.254.1.2: icmp_req=1 ttl=64 time=0.725 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 63.7626%; width: 47.2222%; height: 1.76768%;">64 bytes from 169.254.1.2: icmp_req=2 ttl=64 time=0.916 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.6471%; top: 65.404%; width: 28.4314%; height: 1.76768%;">--- 169.254.1.2 ping statistics ---
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 67.0455%; width: 49.6732%; height: 1.64141%;">2 packets transmitted, 2 received, 0% packet loss, time 999ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 68.5606%; width: 39.8693%; height: 1.76768%;">rtt min/avg/max/mdev = 0.725/0.820/0.916/0.099 ms
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 71.0859%; width: 76.3072%; height: 1.76768%;">Likewise, from spine02 you should be able to ping the clagd subinterface’s backup IP address, 192.168.0.94, and the IP
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 72.601%; width: 22.0588%; height: 1.76768%;">address, 169.254.1.1, on spine01.
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 74.8737%; width: 71.732%; height: 1.76768%;">Verify MLAG port channel operation and the peer roles have been established. In the following example, spine01 is
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 11.6013%; top: 76.5152%; width: 49.3464%; height: 1.64141%;">operating as the primary peer switch and spine02 is the secondary peer switch:
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 79.0404%; width: 19.7712%; height: 1.76768%;">cumulus@spine01$ clagctl
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 80.6818%; width: 14.0523%; height: 1.76768%;">The peer is alive
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 82.3232%; width: 52.1242%; height: 1.64141%;">Our Priority, ID, and Role: 32768 c4:54:44:72:cf:ad primary
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 83.8384%; width: 53.7582%; height: 1.76768%;">Peer Priority, ID, and Role: 32768 c4:54:44:72:dd:c9 secondary
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 85.4798%; width: 47.2222%; height: 1.76768%;">Peer Interface and IP: peerlink.4093 169.254.1.2
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 17.4837%; top: 86.995%; width: 43.7909%; height: 1.76768%;">Backup IP: 192.168.0.95 (active)
</p><p class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-eEGnhe" style="left: 18.1373%; top: 88.6364%; width: 40.0327%; height: 1.76768%;">System MAC: 44:38:39:ff:40:93
</p></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div><img src="blob:https://docs.google.com/0cd617ed-1d6d-4724-9cee-b0016bf859ef" class="ndfHFb-c4YZDc-cYSp0e-DARUcf-RJLb9c" alt="Page 26 of 63" aria-hidden="true"></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf" style="padding-bottom: 129.375%;"><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-PLDbbf "></div><div class="ndfHFb-c4YZDc-cYSp0e-DARUcf-Df1ZY-bN97Pc-haAclf"></div><div class="ndfHFb-c4YZDc-cYSp0e-wxLEad-sn54Q" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-gvZm2b"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-vWsuo-fmcmS-G0jgYd"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-IDNFyf ndfHFb-c4YZDc-cYSp0e-oYxtQd-gvZm2b"></div></div></div><span class="ndfHFb-c4YZDc-cYSp0e-AznF2e-DTMEae" tabindex="0"></span></div><div class="ndfHFb-c4YZDc-n5VRYe-ma6Yeb" style="display: none;"></div><div class="ndfHFb-c4YZDc-n5VRYe-AeOLfc" style="display: none;"></div><div class="ndfHFb-c4YZDc-n5VRYe-cGMI2b" style="display: none;"></div><div class="ndfHFb-c4YZDc-n5VRYe-hOcTPc" style="display: none;"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe" aria-hidden="true"><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-haAclf"><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-YPqjbf-haAclf"><input class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-YPqjbf V67aGc-YPqjbf-V67aGc" placeholder="Find in document" aria-label="Find in document" tabindex="-1"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-NnAfwf-haAclf"><span class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-NnAfwf"></span></div></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-E7ORLb ndfHFb-c4YZDc-Bz112c ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-SKd3Ne VIpgJd-TzA9Ye-eEGnhe ndfHFb-c4YZDc-LgbsSe" role="button" style="-moz-user-select: none;" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="b,c" data-tooltip-offset="-6" aria-label="Find previous" data-tooltip="Find previous"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-tJiF1e ndfHFb-c4YZDc-Bz112c ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-SKd3Ne VIpgJd-TzA9Ye-eEGnhe ndfHFb-c4YZDc-LgbsSe" role="button" style="-moz-user-select: none;" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="b,c" data-tooltip-offset="-6" aria-label="Find next" data-tooltip="Find next"></div><div class="ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-TvD9Pc ndfHFb-c4YZDc-Bz112c ndfHFb-c4YZDc-vWsuo-fmcmS-xxlfEe-SKd3Ne VIpgJd-TzA9Ye-eEGnhe ndfHFb-c4YZDc-LgbsSe" role="button" style="-moz-user-select: none;" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="b,c" data-tooltip-offset="-6" aria-label="Close find bar" data-tooltip="Close find bar"></div></div></div><div style="display:none" id="drive-active-item-info">{"id":
 
"\/viewerng\/upload?ds\x3dAON1mFzrTMvjr3W15kkNwjy0bUmBrh6qIi7CdI5CNUOwHtBNBWiAgZLVCPsZVzUWctOsccpLFWPG7esF_ZqsjIS_IPoA22GOy0pt-PrtNaGGbDqCaQE9SiTOiUWCIxdzd3hdtUZXONKigjmJd-IMyKTLIJfvEOcPBFMEiqfdCjYDktP5fMsOlXysCMCsVSb1EeuNNdsw7p0p6M_TDu523pO8rp7_ZPHuu-AWCIRRFP-HSNKBtiSrMpKxHLiQFYyYbJ6u7Grxe6sxUrsPBWzQShWG_w-6-YX2zXxH-W8vR8f32q7hkVc9tyIoQ9BlBu3VUwefg9W23eUCxZwnfD5wflDDLwo5qXIaTw%3D%3D\x26ck\x3dlantern\x26authuser\x26p\x3dproj",
 "title": "Cumulus-Linux-Layer-2-HA-Validated-Design-Guide_v1.0.0.pdf", 
"mimeType": "application\/pdf"}</div></div></div><div class="ndfHFb-c4YZDc-Wrql6b" role="toolbar" style="width: 40px; right: 17px; opacity: 1;"><div class="ndfHFb-c4YZDc-Wrql6b-SmKAyb"><div class="ndfHFb-c4YZDc-Wrql6b-DdWCyb-b0t70b"></div><div class="ndfHFb-c4YZDc-Wrql6b-AeOLfc-b0t70b"><div class="ndfHFb-c4YZDc-GSQQnc-LgbsSe ndfHFb-c4YZDc-to915-LgbsSe VIpgJd-TzA9Ye-eEGnhe ndfHFb-c4YZDc-LgbsSe" role="button" style="-moz-user-select: none;" tabindex="0" data-tooltip-unhoverable="true" data-tooltip-delay="500" data-tooltip-class="ndfHFb-c4YZDc-tk3N6e-suEOdc" data-tooltip-align="b,c" data-tooltip-offset="-6" aria-label="Pop-out" data-tooltip="Pop-out"><div class="ndfHFb-c4YZDc-Bz112c ndfHFb-c4YZDc-DH6Rkf-Bz112c"></div></div></div></div></div></div><iframe id="apiproxy667f9014de589232ee6a698b068ab5f7b8cbfe510.2389008775" name="apiproxy667f9014de589232ee6a698b068ab5f7b8cbfe510.2389008775" style="width: 1px; height: 1px; position: absolute; top: -100px; display: none;" src="gview_data/proxy.html" tabindex="-1" aria-hidden="true"></iframe><div style="position: absolute; top: -1000px; height: 1px; overflow: hidden;" aria-live="polite" aria-atomic="true">Page 19 of 63 Page 20 of 63 Page 22 of 63 Page 23 of 63 Page 24 of 63</div><div class="tk3N6e-suEOdc ndfHFb-c4YZDc-tk3N6e-suEOdc tk3N6e-suEOdc-ZYIfFd" role="tooltip" style="left: 1831px; top: 60px;"><div class="tk3N6e-suEOdc-W095bf">Pop-out</div><div class="tk3N6e-suEOdc-hFsbo tk3N6e-suEOdc-d6mlqf" style="left: 32px;"><div class="tk3N6e-suEOdc-jQ8oHc"></div><div class="tk3N6e-suEOdc-ez0xG"></div></div></div></body></html>