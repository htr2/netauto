/**
 * Persosa Tracking Code
 * v4.0.2
 * copyright (c) 2018 HYVER LABS, LLC. All Rights Reserved.
 */
window.PersosaConfig={"account":"92007c40-8fac-433b-a284-aa086fc3f0a8","settings":{"tracking":{"googleAnalytics":{"DIMENSION_ID_IDX":5,"DIMENSION_NAME_IDX":4}},"autoRender":true},"session":{"id":"030d6a00-d3cc-11e8-9232-2dba95a41689"},"experience":{"qualified":{"id":null,"name":"(none)"},"view":{"id":null,"name":"(none)","reportName":"(none)"},"experiment":{"active":false,"id":null,"name":null}}};
window.PersosaContent={};
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,i=[480,768,900,1e3,1100,1200,1400],r={set:!0,delete:!0,push:!0,pushunique:!0,deletefromlist:!0};window.PersosaJSONP=function(){var e,t=0,n=document.head||document.getElementsByTagName("head")[0];if(!PersosaConfig.experience.forced&&!PersosaConfig.Editor)return function(o,i,r){var s="__persosa_jsonp_"+t++;o.match(/\?/)?o+="&callback="+s:o+="?callback="+s,e||((e=document.createElement("script")).type="text/javascript");var a=e.cloneNode();a.async=!0,a.src=o,window[s]=function(e){"function"==typeof i&&i.call(r||window,e),n.removeChild(a),a=null,delete window[s]},n.appendChild(a)}}();var s={},a=s.sendData=function(e,t,n){if(null!==t&&void 0!==t&&"object"==typeof t){var o={id:PersosaConfig.account};o[e]=t;var i="https://edn.persosa.com/v4/web?p="+btoa(JSON.stringify(o));PersosaJSONP(i,n)}},l=s.event=function(e,t){"string"!=typeof e||"_"===e.substr(0,1)&&"_t"!==e||a("event",{name:e,data:t||{}})};s.attribute=function(e,t,n){e in r&&t&&"string"==typeof t&&a("attribute",{operation:e,name:t.toLowerCase(),value:n})},s.transaction=function(e){for(var t={_total:parseFloat(e.total||0),_discounts:parseFloat(e.discounts||0),_li:[]},n=e.lineItems||e.li||[],o=0;o<n.length;o++)t._li.push({name:n[o].name,sku:n[o].sku,price:parseFloat(n[o].price||0),quantity:parseFloat(n[o].quantity||0)});l("_t",t)},s.identify=function(e,t){"string"!=typeof e||e.length>20||"string"!=typeof t||t.length>50||("email"!==e||!1!==o.test(t)?a("identify",{type:e,value:t}):console.error("[persosa] Invalid email: "+t))};var c=s;function u(e,t,n){if("string"!=typeof t&&"function"==typeof t.toString)t=t.toString();else if("string"!=typeof t)return;"error"===e?console.error("[persosa] ERROR: "+t):"warning"===e?console.log("[persosa] warning: "+t):"info"===e?console.log("[persosa] "+t):"debug"===e&&console.log("[persosa] "+t),n&&"debug"!==e&&c.sendData("log",{severity:e,message:t})}function d(e){var t=document.createElement("style");t.title="persosa-"+e,t.appendChild(document.createTextNode("")),document.head.appendChild(t),this.sheet=t.sheet}d.prototype.add=function(e,t,n){try{(null===n||void 0===n||isNaN(n))&&(n=this.getRules().length),"insertRule"in this.sheet?this.sheet.insertRule(e+"{"+t+"}",n):"addRule"in this.sheet&&this.sheet.addRule(e,t,n)}catch(n){u("error","Could not apply CSS: "+e+" { "+t+" }"),u("error",n)}},d.prototype.delete=function(e){"deleteRule"in this.sheet?this.sheet.deleteRule(e):"removeRule"in this.sheet&&this.sheet.removeRule(e)},d.prototype.getRules=function(){return this.sheet.cssRules?this.sheet.cssRules:this.sheet.rules?this.sheet.rules:[]},d.prototype.deleteAll=function(){for(var e=this.getRules();e.length>0;)this.delete(0)};var p={},f={};function g(e,t){for(var n=5,o=e.parentElement;n-- >=0&&null!==o;){if("A"===o.tagName)return void o.setAttribute("href",t);o=o.parentElement}e.addEventListener("click",function(){window.location=t}),e.style.cursor="pointer"}function h(e){var t=document.createElement("span");return t.innerHTML=e,1===t.childNodes.length?t.firstChild:t}function m(e){try{return atob(e)}catch(t){u("error","Could not decode content: "+e,!0)}return null}function y(e,t){if(t=t||{},this.id=e,t.f&&t.f.s&&(this.selector=t.f.s),t.m&&t.m.length>0){this.m=t.m,this.styles=[];for(var n=0;n<this.m.length;n++)this.m[n].opt=this.m[n].opt||{},"text"===this.m[n].type?this.m[n].text=m(this.m[n].text):"html"===this.m[n].type?this.m[n].html=m(this.m[n].html):"css"===this.m[n].type&&(this.m[n].rules=m(this.m[n].rules),this.m[n].rules&&this.styles.push({child:this.m[n].child,rules:this.m[n].rules}));this.styles.length>0&&(this.css=f.create("r:"+this.id)),window.addEventListener("persosa.render",this.render.bind(this)),this.willRender=!0}}f.create=function(e){var t=new d(e);return p[e]=t,t},f.getAll=function(){return p},y.prototype._setForegroundImage=function(e,t,n){e.addEventListener("load",function(){e.classList.add("persosa-r"),window.dispatchEvent(new CustomEvent("persosa.region.img",{detail:{id:this.id}}))}.bind(this)),n?(e.setAttribute("sizes",e.getAttribute("sizes")||"100vw"),e.setAttribute("srcset",n)):(e.removeAttribute("sizes"),e.removeAttribute("srcset")),e.src=t},y.prototype._setBackgroundImage=function(e,t){var n=new Image;n.onload=function(){e.style.backgroundImage='url("'+t+'")',e.style.backgroundSize="100%",e.classList.add("persosa-r"),window.dispatchEvent(new CustomEvent("persosa.region.img",{detail:{id:this.id}}))}.bind(this),n.src=t},y.prototype._setImage=function(e,t,n,o){o=o||{},t.classList.add("persosa-img");var r=-1===n.indexOf("?")?"?":"&";if("image_hosted"===e&&"IMG"===t.tagName){for(var s=[],a=0;a<i.length;a++)s.push(n+r+"w="+i[a]+" "+i[a]+"w");this._setForegroundImage(t,n,s.join(", "))}else if("image_hosted"===e){var l=screen.width*window.devicePixelRatio;this._setBackgroundImage(t,n+r+"w="+Math.round(l<1e3?2*l:l))}else"IMG"===t.tagName?this._setForegroundImage(t,n):this._setBackgroundImage(t,n)},y.prototype._renderComplete=function(){window.dispatchEvent(new CustomEvent("persosa.region.rendered",{detail:{id:this.id}}))},y.prototype.render=function(){if(this.selector?this.e=Array.from(document.querySelectorAll(this.selector)):this.e=Array.from(document.querySelectorAll('[persosa-region="'+this.id+'"]')),!this.e||0===this.e.length)return this._renderComplete();var e;this.e.length>1&&u("warning","Duplicate region detected on page.",!0);var t='[persosa-region="'+this.id+'"]';for(e=0;e<this.styles.length;e++){var n=t;"string"==typeof this.styles[e].child&&(n+=" "+this.styles[e].child),this.css.add(n,this.styles[e].rules)}for(e=0;e<this.e.length;e++)try{this.renderElement(this.e[e])}catch(e){u("error","Error rendering element: "+e.message)}this._renderComplete()},y.prototype.renderElement=function(e){for(var t,n,o=!1,i=0;i<this.m.length;i++)if(n="string"==typeof(t=this.m[i]).child?e.querySelector(t.child):e,"attribute"===t.type)"href"===t.attr.name&&"A"!==n.tagName?g(n,t.attr.value):"quicktext"===t.attr.name?n.innerHTML=t.attr.value:n.setAttribute(t.attr.name,t.attr.value);else if("image_"===t.type.substr(0,6))this._setImage(t.type,n,t.url),o=!0;else if("text"===t.type&&t.text)n.innerHTML=t.text;else if("html"===t.type&&t.html)if(t.opt.placement&&"html_inner"!==t.opt.placement)if("html_replace"===t.opt.placement){var r=h(t.html);n.replaceWith(r),n=e=r}else"html_append"===t.opt.placement?n.appendChild(h(t.html)):"html_prepend"===t.opt.placement&&n.insertBefore(h(t.html),n.firstChild);else n.innerHTML=t.html;e.setAttribute("persosa-region",this.id),o||e.classList.add("persosa-r")};var v=[];function w(){for(document.removeEventListener("DOMContentLoaded",w),window.removeEventListener("load",w);v.length>0;)window.setTimeout(v.shift())}function b(e){"function"==typeof e&&("interactive"!==document.readyState&&"complete"!==document.readyState?v.push(e):e())}var P={_q:[],PAGE_LOAD_TIME:(new Date).getTime(),enqueue:function(e){P._q.push(e),window.localStorage.setItem("persosa_clicks",JSON.stringify(P._q))},flush:function(){0!==P._q.length&&(c.sendData("interactions",P._q),P._q=[],window.localStorage.setItem("persosa_clicks","[]"))},onDocumentClick:function(e){var t=function(e){var t;return e||(e=window.event),e.target?t=e.target:e.srcElement&&(t=e.srcElement),3===t.nodeType&&(t=t.parentNode),t}(e),n=function(e){var t=0,n=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}}(e);P.enqueue({time:(new Date).toISOString(),time_elapsed:(new Date).getTime()-P.PAGE_LOAD_TIME,view:window.location.pathname||null,coordinates:[n.x,n.y],dom:{tag:t.tagName,content:"A"===t.tagName?encodeURIComponent(t.text):null,id:t.id||null,class:t.className,href:"A"===t.tagName?t.getAttribute("href"):null}})}};try{window.localStorage.getItem("persosa_clicks")?P._q=JSON.parse(window.localStorage.getItem("persosa_clicks")):P._q=[]}catch(e){P._q=[]}var _=!!(PersosaConfig.settings.tracking&&PersosaConfig.settings.tracking.googleAnalytics&&PersosaConfig.settings.tracking.googleAnalytics.DIMENSION_ID_IDX&&PersosaConfig.settings.tracking.googleAnalytics.DIMENSION_NAME_IDX);var C={analytics:function(e){if(e=e||{},!PersosaConfig.experience.forced&&!PersosaConfig.Editor){var t=window[window.GoogleAnalyticsObject||"ga"];if(e.debug){var n=("function"==typeof t?"analytics.js":"NO analytics.js")+" - "+(_?"Settings":"NO Settings");t("send","event","Persosa","GAPlugin init",n,{nonInteraction:!0}),console.log("[persosa:ga] plugin v2.2 initialized: "+n)}if("function"==typeof t&&_){var o={nonInteraction:!0};o["dimension"+PersosaConfig.settings.tracking.googleAnalytics.DIMENSION_ID_IDX]=PersosaConfig.experience.view.id||"(none)",o["dimension"+PersosaConfig.settings.tracking.googleAnalytics.DIMENSION_NAME_IDX]=PersosaConfig.experience.view.reportName,t("send","event","Persosa","Experience",PersosaConfig.experience.view.reportName,o),e.debug&&console.log("[persosa:ga] Experience",o)}}},gtag:function e(t){if(t=t||{},!PersosaConfig.experience.forced&&!PersosaConfig.Editor){if(t.debug){var n="gtag.js - "+(_?"Settings":"NO Settings");e("event"),console.log("[persosa:gtag] plugin v2.2 initialized: "+n)}if(_){var o={event_category:"Persosa",event_label:PersosaConfig.experience.view.reportName,persosa_id:PersosaConfig.experience.view.id||"(none)",persosa_name:PersosaConfig.experience.view.reportName,non_interaction:!0};e("event"),t.debug&&console.log("[persosa:gtag] Experience",o)}}}};n(1);var E={GoogleAnalytics:C};n(2);var I;function S(){PersosaConfig.Rendered||(document.body.classList.add("persosa-r"),PersosaConfig.Rendered=!0,window.dispatchEvent(new Event("persosa.rendered")))}function O(){PersosaConfig.Rendered||(window.addEventListener("persosa.region.rendered",function(){0==--I&&S()}),window.dispatchEvent(new Event("persosa.render")))}function k(){for(var e in PersosaConfig.Regions=[],I=0,PersosaContent)if(!1!==PersosaContent.hasOwnProperty(e)&&0!==PersosaContent[e].m.length){if(PersosaContent[e].f&&PersosaContent[e].f.p)try{if(!1===new RegExp(PersosaContent[e].f.p,"i").test(window.location.pathname))continue}catch(t){u("error","Invalid page regular expression: "+PersosaContent[e].f.p);continue}var t=new y(e,PersosaContent[e]);t.willRender&&I++,PersosaConfig.Regions.push(t)}0===I&&S()}function x(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);if("string"==typeof e[0]){if("event"===e[0])c.event.apply(null,e.slice(1));else if("transaction"===e[0])c.transaction.apply(null,e.slice(1));else if("render"===e[0])O.apply(null,e.slice(1));else if("attribute"===e[0])c.attribute.apply(null,e.slice(1));else if("identify"===e[0])c.identify.apply(null,e.slice(1));else if("ga"===e[0])"init"===e[1]||"analytics"===e[1]?E.GoogleAnalytics.analytics.apply(null,e.slice(2)):"gtag"===e[1]&&E.GoogleAnalytics.gtag.apply(null,e.slice(2));else if("get"===e[0])return function(e){return"css"===e?f.getAll():null}.apply(null,e.slice(1))}else"function"==typeof e[0]&&e[0].call(null)}PersosaConfig.Rendered=!1,PersosaConfig.Query={};try{var N=location.search.substring(1);if(N&&N.length>0){N=N.split("&");for(var A=0;A<N.length;A++){var j=N[A].indexOf("=");j>-1&&(PersosaConfig.Query[decodeURIComponent(N[A].substr(0,j))]=decodeURIComponent(N[A].substr(j+1)))}}}catch(e){u("error",e.message)}var R="string"==typeof window.sessionStorage.getItem("persosa_editor_token"),T=PersosaConfig.Query.hasOwnProperty("persosaeditor"),D=!(!PersosaConfig.Query.hasOwnProperty("persosa_ignore")&&!PersosaConfig.Query.hasOwnProperty("persosa_experience"));if(!R&&!T||D||(T&&window.sessionStorage.setItem("persosa_editor_token",PersosaConfig.Query.persosaeditor),PersosaConfig.Editor=!0),document.addEventListener("DOMContentLoaded",w,!1),window.addEventListener("load",w),PersosaConfig.Editor)window.persosaEditor=function(e){if("render"===e)O();else if("initRegions"===e)k();else if("getStyles"===e)return f.getAll()},function(e,t){var n=document.createElement("script");if(n.async=!1,n.src=e,"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&n.setAttribute(o,t[o]);b(function(){document.body.appendChild(n)})}("https://cdn.persosa.com/editor/editor.js");else{var M=window[window.PersosaObject];if(M&&M.q&&M.q.length)for(;M.q.length>0;)x.apply(null,M.q.shift());window[window.PersosaObject]=x,setTimeout(S,3e3),k(),b(function(){PersosaConfig.settings.autoRender&&O(),document.addEventListener("click",P.onDocumentClick,!0),P.flush(),setInterval(P.flush,2e3)})}},function(e,t){if("/admin/"!==window.location.pathname.substr(0,7)&&-1===window.location.hostname.indexOf("myshopify.com")&&!PersosaConfig.experience.forced&&!PersosaConfig.Editor&&"function"==typeof window.persosa&&window.Shopify&&Shopify.checkout&&Shopify.checkout.line_items){for(var n=[],o=0;o<Shopify.checkout.line_items.length;o++)n.push({name:Shopify.checkout.line_items[o].title,sku:Shopify.checkout.line_items[o].sku,price:Shopify.checkout.line_items[o].price,quantity:Shopify.checkout.line_items[o].quantity});var i=0;Shopify.checkout.discount&&Shopify.checkout.discount.amount&&(i=Shopify.checkout.discount.amount),persosa("transaction",{total:Shopify.checkout.total_price,li:n,discounts:i})}},function(e,t){function n(){"use-strict";var e,t=this.parentNode,n=arguments.length;if(t)for(n||t.removeChild(this);n--;)"object"!=typeof(e=arguments[n])?e=this.ownerDocument.createTextNode(e):e.parentNode&&e.parentNode.removeChild(e),n?t.insertBefore(this.previousSibling,e):t.replaceChild(e,this)}window.localStorage||Object.defineProperty(window,"localStorage",new function(){var e=[],t={};Object.defineProperty(t,"getItem",{value:function(e){return e?this[e]:null},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"key",{value:function(t){return e[t]},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"setItem",{value:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),Object.defineProperty(t,"removeItem",{value:function(e){e&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"clear",{value:function(){if(e.length)for(var t in e)document.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),this.get=function(){var n;for(var o in t)-1===(n=e.indexOf(o))?t.setItem(o,t[o]):e.splice(n,1),delete t[o];for(;e.length>0;e.splice(0,1))t.removeItem(e[0]);for(var i,r,s=0,a=document.cookie.split(/\s*;\s*/);s<a.length;s++)(i=a[s].split(/\s*=\s*/)).length>1&&(t[r=unescape(i[0])]=unescape(i[1]),e.push(r));return t},this.configurable=!1,this.enumerable=!0}),window.sessionStorage||Object.defineProperty(window,"sessionStorage",new function(){var e=[],t={};Object.defineProperty(t,"getItem",{value:function(e){return e?this[e]:null},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"key",{value:function(t){return e[t]},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"setItem",{value:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; path=/")},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),Object.defineProperty(t,"removeItem",{value:function(e){e&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(t,"clear",{value:function(){if(e.length)for(var t in e)document.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},writable:!1,configurable:!1,enumerable:!1}),this.get=function(){var n;for(var o in t)-1===(n=e.indexOf(o))?t.setItem(o,t[o]):e.splice(n,1),delete t[o];for(;e.length>0;e.splice(0,1))t.removeItem(e[0]);for(var i,r,s=0,a=document.cookie.split(/\s*;\s*/);s<a.length;s++)(i=a[s].split(/\s*=\s*/)).length>1&&(t[r=unescape(i[0])]=unescape(i[1]),e.push(r));return t},this.configurable=!1,this.enumerable=!0}),Element.prototype.replaceWith||(Element.prototype.replaceWith=n),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=n),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=n),function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}()}]);